# included templates
include:
  # Maven template
  - project: "to-be-continuous/maven"
    ref: "3.2"
    file: "templates/gitlab-ci-maven.yml"


# secret variables
# (define the variables below in your GitLab group/project variables)
# SONAR_TOKEN: SonarQube authentication [token](https://docs.sonarqube.org/latest/user-guide/user-token/) (depends on your authentication method)
# SONAR_LOGIN: SonarQube login (depends on your authentication method)
# SONAR_PASSWORD: SonarQube password (depends on your authentication method)


# variables
variables:
  MAVEN_IMAGE: "registry.hub.docker.com/library/maven:3.6.3-jdk-8"


# your pipeline stages
stages:
  - build
  - test
  - package-build
  - package-test
  - infra
  - deploy
  - acceptance
  - publish
  - infra-prod
  - production

mvn-sonar:
  image: "registry.hub.docker.com/library/maven:3.6.3-jdk-11"