<!--
  ~ Copyright (C) 2010 Brockmann Consult GmbH (info@brockmann-consult.de)
  ~
  ~ This program is free software; you can redistribute it and/or modify it
  ~ under the terms of the GNU General Public License as published by the Free
  ~ Software Foundation; either version 3 of the License, or (at your option)
  ~ any later version.
  ~ This program is distributed in the hope that it will be useful, but WITHOUT
  ~ ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
  ~ FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for
  ~ more details.
  ~
  ~ You should have received a copy of the GNU General Public License along
  ~ with this program; if not, see http://www.gnu.org/licenses/
  -->

<html>
<head>
    <title>BEAM Data Processors - Level 3 Binning Tool</title>
    <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
    <link rel="stylesheet" href="../style.css">
</head>

<body>
<table class="header">
    <tr class="header">
        <td class="header">&nbsp;
            Binning Algorithm Specification</td>
        <td class="header" align="right"><a href="../general/BeamOverview.html"><img src="../images/BeamHeader.jpg" border=0></a>
        </td>
    </tr>
</table>

<p>Algorithm Specification of the science processors of the MERIS/(A)ATSR Toolbox</p>

<h3>L3/Binning Tool </h3>
<h4>Binning Algorithms </h4>
<h5>Maximum Likelihood</h5>

<p>
    The maximum likelihood binning algorithm is the one originally used by the SeaWiFS L3 processing.
</p>

<p>
    The temporal binning algorithm sums up all measurements <i>Xi,j</i> for a
    bin <i>j</i> to the following intermediate variables:
</p>

<blockquote>
    <p><img src="images/MLSpatialSum.png"></p>

    <p><img src="images/MLSpatialSumSquare.png"></p>
</blockquote>

<p>
    where <i>w</i> is the weight coefficient specified for the processing
    and <i>n</i> is the number of measurements for a specific bin.
    Additionally, the number of measurements n and the weight is
    saved to the bin database.
</p>

<p>
    The temporal binning just sums up these &quot;per scene&quot;
    intermediate variables to the final bin database:
</p>

<blockquote>
    <p><img src="images/MLTemporalSum.png"></p>

    <p><img src="images/MLTemporalSumSquare.png"></p>

    <p><img src="images/MLTemporalSumCount.png"></p>

    <p><img src="images/MLTemporalSumWeight.png"></p>
</blockquote>

<p>
    The final process converts the variables stored in the temporal bin
    database to the final L3 variables according to:
</p>

<p>First calculate two intermediate values</p>

<blockquote>
    <p><img src="images/MLFinalM.png"></p>

    <p><img src="images/MLFinalS.png"></p>
</blockquote>

<p>
    Which the compose the final variables <i>MEAN</i>, <i>SIGMA</i>, <i>MEDIAN</i> and <i>MODE</i>:
</p>

<blockquote>
    <p><img src="images/MLFinalMean.png"></p>

    <p><img src="images/MLFinalSigma.png"></p>

    <p><img src="images/MLFinalMedian.png"></p>

    <p><img src="images/MLFinalMode.png"></p>
</blockquote>

<h5>Arithmetic mean</h5>

<p>
    The Arithmetic Mean algorithm calculates the arithmetic mean of the
    input measurements. Additionally, the user has the option to apply a
    weighting to the measurements.
</p>

<p>
    The temporal binning algorithm sums up all measurements <i>Xi,j</i> for a
    bin <i>j</i> to the following intermediate variables:
</p>

<blockquote>
    <p><img src="images/AMESpatialSum.png"></p>

    <p><img src="images/AMESpatialSumSquare.png"></p>
</blockquote>

<p>
    where <i>w</i> is the weight coefficient specified for the processing and
    <i>n</i> is the number of measurements for a specific bin. Additionally,
    the number of measurements n and the weight is saved to the bin database.
</p>

<p>
    The temporal binning just sums up these &quot;per scene&quot; intermediate
    variables to the final bin database:
</p>

<blockquote>
    <p><img src="images/MLTemporalSum.png"></p>

    <p><img src="images/MLTemporalSumSquare.png"></p>

    <p><img src="images/MLTemporalSumCount.png"></p>

    <p><img src="images/MLTemporalSumWeight.png"></p>
</blockquote>

<p>
    The final process converts the variables stored in the temporal bin database
    to the final L3 variables according to:
</p>

<blockquote>
    <p><img src="images/AMEFinalMean.png"></p>

    <p><img src="images/AMEFinalSigma.png"></p>
</blockquote>

<h5>Minimum/Maximum</h5>

<p>
    The Minimum/Maximum algorithm traces the minimum and maximum value of the
    measurements for the bin. This algorithm has no distinction between spatial
    and temporal binning. The final L3 variables are composed as follows:
</p>

<blockquote>
    <p><img src="images/MMFinalMin.png"></p>

    <p><img src="images/MMFinalMax.png"></p>
</blockquote>
<hr>
</body>
</html>
