                                 CHANGELOG

This file contains all significant changes for each BEAM release.

    o 28.03.2013: Version 4.11
    o 21.06.2012: Version 4.10.3
    o 09.05.2012: Version 4.10
    o 12.05.2011: Version 4.9
    o 29.07.2010: Version 4.8
    o 29.04.2010: Version 4.7.1
    o 22.02.2010: Version 4.7
    o 02.06.2009: Version 4.6
    o 31.10.2008: Version 4.5
    o 11.07.2008: Version 4.2
    o 31.10.2007: Version 4.1
    o 20.04.2007: Version 4.0
    o 01.02.2007: Version 3.7
    o 04.07.2006: Version 3.6
    o 10.03.2006: Version 3.5
    o 07.10.2005: Version 3.4
    o 03.06.2005: Version 3.3
    o 18.03.2005: Version 3.2
    o 30.11.2004: Version 3.1
    o 03.08.2004: Version 3.0
    o 18.06.2004: Version 2.3
    o 16.10.2003: Version 2.2
    o 26.09.2003: Version 2.1
    o 27.06.2003: Version 2.0
    o 07.03.2003: Version 1.1
    o 06.12.2002: Version 1.0

_____________________________________________________________________________

 Changes from 4.10.3 to 4.11
_____________________________________________________________________________

BEAM 4.11 is a release featuring lots of new tools. The Time Series Tools has been included into BEAM, which allows users
to create, inspect, and analyse time series of EO data. The new Temporal Percentile Operator has been introduced; it
allows users to create multiple kinds of gap-filled percentile computations. The old binning has been replaced by a new
one which adds a number of useful functions and aggregation methods. It is now possible to download data witihn BEAM using
the novel OPeNDAP client which provides an easy interface to arbitrary OPeNDAP servers. BEAM 4.11 now allows to write
NetCDF-4 data.
Some outdated parts of the software have been dropped in order to keep it lean, such as the former mosaic processor,
which has been fully replaced by a faster, more modern variant. Additionally, many changes in the API have been made
that allow users to even better develop software on basis of BEAM.

Complete list of BEAM 4.11 bug fixes and improvements

New BEAM Features

[BEAM-1479] - Create shapefile -> CSV converter tool
[BEAM-1420] - Support (A)ATSR Autumn 2012 reprocessed data products

Improvements

[BEAM-1481] - Explain the radiometric correction files
[BEAM-1477] - Update OBPG readers to 1.4
[BEAM-1126] - Pixel-geocoding consumes too much memory

Bugs

[BEAM-1411] - Various product readers fail if input product has no parent
[BEAM-1225] - gpt command-line. No data product writer for the 'HDF5' format available
[BEAM-1319] - The beam.config file must be edit with administrator rights
[BEAM-1412] - Profile plot uses wrong pixels for shape in projected products
[BEAM-1419] - Time extraction not always applied
[BEAM-1421] - A file in NetCDF-BEAM format, which was created using the BandMaths gpf operator, can not be opened in VISAT
[BEAM-1425] - NPE in Landsat GeoTIFF reader
[BEAM-1426] - Landsat GeoTIFF reader hides other format readers
[BEAM-1427] - Histogram for SPOT SM Band not correct
[BEAM-1431] - Product cannot be opened
[BEAM-1434] - Wrong coordinate extraction with PixEx tool
[BEAM-1435] - Name of scene view does not change if band is renamed
[BEAM-1437] - PixEx operator shall handle corrupt products more gracefully
[BEAM-1439] - Wrong assignment of frequencies to indexes
[BEAM-1443] - Spectrum View line thickness too thin
[BEAM-1445] - Pinned spectra barely visible in spectrum view
[BEAM-1446] - Label of samples is wrong for index-coded bands
[BEAM-1447] - Dimap reader\writer handling very very large files
[BEAM-1454] - When I try to put statistics into the vector data, the original vector data becomes corrupted and in such a way that the original content of this file is reduced to one record.
[BEAM-1466] - Inconsistent state possible in Pixel Extraction user interface
[BEAM-1468] - Time difference not considered for pixel extraction if defaults are used
[BEAM-1469] - No PixEx result if products do not have time information
[BEAM-1470] - It is not correctly detected if measurements have been extracted
[BEAM-1471] - The time extraction from file name should support DAY_OF_YEAR
[BEAM-1363] - Write NetCDf 4 files using compression
[BEAM-1414] - Incorrect valid-pixel mask for ATSR SST bands


_____________________________________________________________________________

 Changes from 4.10 to 4.10.3
_____________________________________________________________________________

Complete list of BEAM 4.10.3 bug fixes and improvements

Improvements

[BEAM-1399] PixEx operator shall handle products without GeoCoding more gracefully
[BEAM-1404] Image views shall draw pixel grid at high zoom levels

Bugs

[BEAM-1410] PixelGeoCoding has accuracy problems
[BEAM-1405] Rounding errors in collocation of int32 bands
[BEAM-1403] Broken links in VISAT help
[BEAM-1402] Profile plot using correlative data and projected products used wrong pixels
[BEAM-1401] Null pointer exception when closing image views
[BEAM-1398] SLSTR oblique-view images cannot be opened
[BEAM-1394] Wildcard matching problem with GPF operator 'PixEx'


 _____________________________________________________________________________

 Changes from 4.9 to 4.10
_____________________________________________________________________________

1) New BEAM Features

o VISAT has been greatly enhanced by a number of efficient and user friendly tools supporting validation activities.
  A number of tools now allow for comparing satellite data with correlative data (e.g. in-situ data or other reference
  data) imported from external sources. The former statistics tool window has been split into multiple, dedicated tool
  windows each providing a number of new functions.
    (1) General enhancements
        - Generate (ROI) masks from plots: mark a value range in the plot area (histogram, scatter, profile plots)
          and create a mask comprising the pixels that fall into that value range.
          The mask is immediately displayed as an overlay in the satellite image view and can be used as a new region
          of interest for statistical analyses;
        - Zoom into plot areas using the mouse wheel;
        - Axes in plots, if applicable can now use a log10-scaling;
        - Inspect and export (copy to clipboard) plot data as tabulated data.
    (2) Profile plot enhancements
        - extract satellite data from a transect or track and display it, optionally averaged over an NxN pixel box,
          optionally filtered by a ROI mask, optionally together with correlative data;
        - synchronise pixel positions: click the transect graphs in the plot and display a cursor which is shown in
          both, the plot and also along the track figure shown in the satellite image view.
    (3) Correlative plot
        - extract satellite data at geographical points, optionally averaged over an NxN pixel box, optionally filtered
          by a ROI mask, and display against correlative data fields in a scatter plot;
        - display regression line and information;
        - display the 1:1 identity line.
    (4) Scatter plot
        - compare two raster datasets and display a density plot of pixel frequencies, optionally filtered by a
          ROI mask;
        - quickly invert density colors;
    (5) Histogram
        - generate histograms of raster data, optionally filtered by a ROI mask;
        - bin cells of the histogram can now be log10 scaled, thus turning a logarithmic into a normal distribution.
    (6) Statistics
        - generate common statistical variables, including commonly used percentile thresholds, histogram and
          percentile plots;
        - optionally compute statistics for one or multiple masks in one go.

o In order to import the correlative data for the new validation tools, support for multiple types of text-based point
  and vector data sources has been added: plain text, tab-separated CSV files, data extracts from MERMAID in-situ
  database, and SeaDAS 6.x ship-tracks can now be read and used as vector data within VISAT. All additional columns
  are kept and, if numerical, may serve as a variable used in the scatter or profile plots.

o Double-clicking the imported vector data in the product browser window displays it in a tabular view similar to
  double-clicking a band which will an image view.

o Imported point data can now be interpreted as a path or track and will be displayed accordingly in an image view.
  Additional numerical columns of such imported point data can be directly displayed in the profile plot.

o The VISAT navigation window can now synchronise multiple image views based on the changing geographical
  center coordinate of a currently moved image.

o The VISAT colour manipulation tool window has been enhanced by log10 scaled colour bars.

o Three new readers have been added which allow for
    (1) reading data products of the new VIIRS (Visible Infrared Imaging Radiometer Suite) instrument.
        This capability is provided by the SeaDAS Ocean Colour reader which has been developed by the NASA OBPG
        as part of SeaDAS 7 (http://oceancolor.gsfc.nasa.gov/forum/oceancolor/board_show.pl?bid=28).
    (2) reading plain text, CSV files into the BEAM product data model; thus, input from such
        files may be used for example with the BEAM Graph Processing Tool 'gpt' command-line.
        Also a corresponding writer is available for CSV.
    (3) reading ordinary RGB image files (JPEG, PNG, GIF, ...). Products imported from images comprise the
        bands red, green, blue with associated wavelength and a grey band which is a linear combination of
        the three.

o The VISAT file import / export menus have been revised due to the meanwhile large number of various data formats
  BEAM is able to import from and export to.

o The following BEAM command-line tool enhancements (see 'gpt -h' on the command-line) have been added
  - The pixel extraction operator 'PixEx' now uses an extended wild-card syntax to recursively collect source
    products from a list of directories.
  - A new operator 'Merge' allows for copying raster data from other data products to a specified 'master' product.

o The BEAM Java core data model has been revised: vector data is now based on the OGC-standard for simple features.

2) Complete list of BEAM 4.10 bug fixes and improvements

New Features

[BEAM-1384] - Synchronise image views via geographical center coordinates
[BEAM-473] - Provide uniform window focus and object selection management

Improvements

[BEAM-1383] - GeoTIFF product reader should support reading from InputStreams
[BEAM-1380] - Compute statistics from geo-physical data, not raw data
[BEAM-1379] - Log-scaled data and log-scaled display shall be independent
[BEAM-1376] - ProductUtils.copyBand should copy source images if requested
[BEAM-1375] - Allow gpt to use template variables in parameter files
[BEAM-1373] - Use latest JIDE libraries
[BEAM-1372] - Use latest XStream library
[BEAM-1363] - Write NetCDf 4 files using compression
[BEAM-1352] - When exporting a product a SubsetInfo is always added to metadata tree
[BEAM-1346] - The reprojection operator should allow to specify the tile size of the result
[BEAM-1341] - The Envisat reader should read AMORGOS output for MER_RR_1P input (MER_RRG_1P)
[BEAM-1339] - Reduce memory consumption
[BEAM-1331] - ProductConfigurer class is missing a copyMasks method
[BEAM-1328] - Let user specify the unit of bands generated by BandMath operator
[BEAM-1286] - Link images shall use currently displayed image setting when a new band is opened
[BEAM-1374] - On Mac OS X, processor windows don't have menu bars
[BEAM-1393] - PixExOp shall use Unix-style wildcards for values of parameter 'inputPaths'

Bugs

[BEAM-1392] - SPOT-VGT product fails in scatter plot between B0 and SZA
[BEAM-1391] - Spectral unmixing should not require beam-ui to be present
[BEAM-1386] - WriteOp shall never delete output on failure if source file already exists
[BEAM-1381] - Statistics written to NetCDF files shall be in geo-physical units
[BEAM-1377] - Spatial Subset From View fails without error message
[BEAM-1360] - Auto-grouping of product sometimes wrong
[BEAM-1356] - Scene view of a band can not be opened if all values are NaN
[BEAM-1354] - Graticule drawing hangs for invalid coordinates
[BEAM-1351] - Metadata is duplicated if NetCDF-BEAM file is saved again
[BEAM-1350] - FUB/WeW processor fails with products generated by "AMORGOSed" ICOL products
[BEAM-1347] - Wrong Histogram in exported NetCDF-BEAM product
[BEAM-1345] - Creating geophysical images for huge products fails
[BEAM-1343] - For AATSR NR products, all land pixels should be visible in the LST band
[BEAM-1342] - Processing fails if PixelGeoCoding has no validMask
[BEAM-1340] - GeoTIFF products with a single TAG_MODEL_TIE_POINT entry should be supported
[BEAM-1337] - SST processor produces stripes when using multiple coefficient maps
[BEAM-1336] - ArrayIndexOutOfBoundsException occurs when reading GeoTIFF
[BEAM-1335] - N1Patcher does not handle relative paths correctly
[BEAM-1334] - ProductData.UTC does not handle dates before 01/01/2000 correctly
[BEAM-1333] - NetCDF files are not CF compliant
[BEAM-1332] - NetCDF/CF writer does not write coordinates
[BEAM-1330] - Overflow might occur when setting a geo-physical sample to a tile
[BEAM-1329] - Smile effect correction does not detect land properly
[BEAM-1325] - Processors fail if PixelGeoCoding has no valid mask
[BEAM-1320] - BEAM-NetCDF reader/writer does not preserve solar flux information
[BEAM-1315] - NetCDF-BEAM does not consider log-scaled attribute
[BEAM-1314] - Processor menus are not visible on Mac
[BEAM-1313] - Sub-pixel geo-location is wrong for some product types
[BEAM-1306] - Using gpt.exe leads to exception
[BEAM-1305] - Meris radiometry processor does not copy masks
[BEAM-1247] - Masks can not be displayed over RGB-images
[BEAM-1123] - Opened StatisticsDialog slows down performance of geometrc objects
[BEAM-943] - ProductIOException occures VISAT by save N1 product as DIMAP, if some band names have been changed
[BEAM-1311] - World map layer and overview window cannot be displayed
[BEAM-1364] - Inaccurate AATSR geo-location
[BEAM-1344] - Imported transects are not visualised in the new images

 _____________________________________________________________________________

 Changes from 4.8 to 4.9
_____________________________________________________________________________

1) New BEAM Features

o Product files can now be dragged from the file explorer into the products view.

o Introduced a new operator for MERIS named 'Radiometry Correction'. It combines a
  SMILE correction, an equalisation, a radiance-to-reflectance conversion and a new
  radiometric re-calibration.

o A new tool for exporting pixels from a bunch of data products has been introduced.


2) Complete list of BEAM 4.9 bug fixes and improvements

New Features
[BEAM-1297] - Add DEM-corrected latitude/longitude bands in satellite coordinates
[BEAM-1251] - Allow setting start and stop time
[BEAM-1216] - The NOAA AVHRR reader should support GAC products
[BEAM-1180] - Allow dragging files into VISAT
[BEAM-1151] - Geometry subset operator

Improvements
[BEAM-1302] - Products read from NetCDF files should have a 'Global_Attributes' element in metadata
[BEAM-1301] - gpt should be able to load the configuration saved from the UI
[BEAM-1296] - Update auxiliary data for MERIS smile-effect correction
[BEAM-1288] - Add plausibility check for reprojection and orthorectification
[BEAM-1280] - Configure image tile size for all readers
[BEAM-1278] - GPF shall generate reports about tile computations
[BEAM-1276] - Add VISAT scripting support for the Python language
[BEAM-1275] - Add meta information as header to export of transects
[BEAM-1274] - Add wavelength in all exports
[BEAM-1263] - All processors shall provide help and "about" information
[BEAM-1242] - Support MERIS FSG L2 products
[BEAM-1237] - Update MERIS L2 flags for IODD version 8
[BEAM-1234] - The target product of some operators shall not be written
[BEAM-1231] - gpt command-line tool should have a 'parallelism' option
[BEAM-1221] - Need an option to configure multi-threading
[BEAM-1219]	- GPF API should implicitly convert parameter values
[BEAM-1183] - Improve reprojection UI usability
[BEAM-1156] - SubsetOp does not copy metadata
[BEAM-1133] - Add missing help files for GPF and Operators
[BEAM-1052] - All processors should be able to store/reload their configuration
[BEAM-0009] - Define subsets with geographical co-ordinates


Bugs
[BEAM-1334] - ProductData.UTC does not handle dates before 01/01/2000 correctly
[BEAM-1292] - Reprojection dialog shifts image if pixel size is changed
[BEAM-1290] - GeoTIFF writer can't write very large files
[BEAM-1291] - Virtual bands may compute wrong results for non-zero levels of image pyramids
[BEAM-1284] - Reprojection should preserve log-scaling of bands
[BEAM-1281] - Orthorectification can not be used if tie-points are selected as elevation model
[BEAM-1248] - Title of transect-plot dialog is not updated if band selection changes
[BEAM-1246] - Layer-Manager does not reflect changes of mask names in Mask-Manager
[BEAM-1241] - For certain AATSR-products, TiePointGeoCoding.getPixelPos(GeoPos, PixelPos) yields wrong results
[BEAM-1239] - For MERIS bands the solar flux has the wrong unit
[BEAM-1233] - NetCDF-CF does not consider log-scaled attribute
[BEAM-1229] - OBPG SeaWiFS L2 files can not be opened
[BEAM-1228] - Rangefinder does not work
[BEAM-1227] - PConvert doesn't generate images if profile contains calculated RGB bands
[BEAM-1226] - Subset operator does not extract flags automatically
[BEAM-1223] - gpt command-line usage generates incorrect XML templates
[BEAM-1222] - gpt command-line tool ignores -p option
[BEAM-1220] - GPF API does not use progress monitor
[BEAM-1215] - NetCDF product appears inverted
[BEAM-1214] - MERIS L2 products low_pressure flag is raised over water
[BEAM-1213] - Unit of yellow_subs in MERIS product not correct
[BEAM-1212] - RasterDataNode.isPixelValid(x,y) is not thread safe
[BEAM-1211] - SPOT VGT reader parses product time using a locale timezone
[BEAM-1209] - Unable to collocate two data sets
[BEAM-1208] - ProductUtils.copyFlagBands doesn't copy masks
[BEAM-1206] - CF Profile does not write latitude longitude data when writing pixel geo-coding
[BEAM-1205] - SPOT VGT reader dosn not treat unsigned bands correctly
[BEAM-1204] - Reprojection changes product type
[BEAM-1203]	- Application returns with exit code zero in error case
[BEAM-1202] - PConvert does use the user LOCAL instead of ENGLISH
[BEAM-1201] - GPT does use the user LOCAL instead of ENGLISH
[BEAM-1200] - PConvert doesn't generate images
[BEAM-1197] - GPF N1 patcher is not thread safe
[BEAM-1196] - Latitude shift for non-WGS84 datums
[BEAM-1194] - Open RGB in image view leads to "Unknown band:" error
[BEAM-1192] - Title in histogram does not adjust to current band
[BEAM-1187] - Libraries of SLF4J are included in lib directory
[BEAM-1186] - The Landsat GeoTIFF reader should handle invalid input gracefully
[BEAM-1184] - Reprojection dialog does not remember values
[BEAM-1182] - Libraries of JAI are included twice
[BEAM-1179] - Slightly wrong listing of files in VirtualDir$Zip in beam-spot-vgt-reader
[BEAM-1178] - Attached GCP geo-coding is not saved
[BEAM-1177] - Index out of bounds for RGB View
[BEAM-1174] - DIMAP stores the band grouping only if a product has a description
[BEAM-1172] - Boolean parameter values are overridden by default values
[BEAM-1171] - NetCDF file not readable if variable name contains '.' or '/'
[BEAM-1156] - SubsetOp does not copy metadata
[BEAM-1125] - Outer scene region is not invalid for certain reprojected products
[BEAM-1067] - Histogram title doesn't update when changing band
[BEAM-1055] - No-data colour option in Colour Manipulation window has no effect
[BEAM-0961] - GPT shall sort the list of available operators


 _____________________________________________________________________________

 Changes from 4.7.1 to 4.8
_____________________________________________________________________________

1) New BEAM Features

o Readers for SPOT VEGETATION products, Landsat TM products in GeoTIFF format, HDF-EOS products,
  and generic NetCDF/CF-products have been added.

o A writer for generic NetCDF/CF-products has been added.

o The possibility to apply "auto-grouping" in the product tree has been added; that is, product
  nodes whose names begin equally are automatically put into a common group.

o A toolbar button has been added to overlay the world map as a layer on geographic lat/lon projected products.

o The ESA GlobCover Land Cover Map is used as default world map layer now; however, it is still possible to choose the
 NASA Blue Marble as world map layer instead.

2) Complete list of BEAM 4.8 bug fixes and improvements

New Features
BEAM-1112 - GPF Operator API to provide better support for image filters and convolutions
BEAM-1114 - GPF Tile API to provide method to directly check sample validity
BEAM-1159 - Auto-group bands according to their names
BEAM-1160 - Auto-grouping of bands shall be controlled by data model
BEAM-1167 - The Landsat reader should support products in GeoTIFF

Improvements
BEAM-1085 - Support reprocessed data by NASA OBPG
BEAM-1110 - Don't show empty masks for pins and GCPs
BEAM-1115 - Make lookup tables thread safe
BEAM-1116 - GPF Tile API and API-docs to better express difference between raw and physical samples
BEAM-1124 - GPF Tile API to provide method to directly access geo-physical data arrays
BEAM-1138 - SPOT-VGT reader to set physical units and scaling of spectral bands
BEAM-1144 - SPOT-VGT reader to recognise different pixel sampling of P-products
BEAM-1157 - No-data masking can easily be optimized
BEAM-1162 - The Envisat reader should support refomatted / line-interleaved products
BEAM-1168 - Add Sinusoidal and Mollweide map projection

Bugs
BEAM-973 - NullPointerException occurs VISAT by creation virtual band abs(Amplitude_HV / Amplitude_HH)
BEAM-1057 - Navigation rotation edit field prevents rotating image
BEAM-1082 - Installation instructions are wrong for GETASSE30
BEAM-1087 - OBPG child products can not be read
BEAM-1088 - Orthorectification does a map projection only
BEAM-1093 - Dragging does not work in Layer Manager
BEAM-1094 - Not possible to add placemarks if scrollbars are used
BEAM-1095 - Pixel position is updated when geo-location is changed for GCPs
BEAM-1097 - Exception if reprojection results in large target product
BEAM-1099 - DefaultSingleTargetProductDialog without processing parameter leads to exception
BEAM-1103 - Product outside of target area breaks processing of L3 binning
BEAM-1105 - NullPointerException is thrown, if editor for geometry layer is visible
BEAM-1106 - ToolViews do not reflect the selected state correctly in all cases
BEAM-1108 - Import of Pins/GCPs fails
BEAM-1109 - Pixel Info View does not update if "Snap to selected pin" is clicked
BEAM-1111 - Placemarks are not correctly moved if multiple are selected
BEAM-1118 - Deletion of masks
BEAM-1121 - Range Finder Tool yields NaN values
BEAM-1127 - GPF geo-physical Tile API doesn't consider the valid-pixel mask
BEAM-1134 - Mosaic with polar stereographic projection
BEAM-1144 - SPOT-VGT reader to recognise different pixel sampling of P-products
BEAM-1145 - Image information gets lost during subset creation
BEAM-1146 - Images explicitly set on a Band have inappropriate image-to-model transformation
BEAM-1147 - Signed byte data type interpreted as unsigned byte
BEAM-1149 - OBPG reader causes Exception if used with GPF
BEAM-1152 - Export View as Image - transformation error
BEAM-1158 - External JAI operators are not registered
BEAM-1169 - On KDE (linux) the Java Desktop-API is not supported
_____________________________________________________________________________

 Changes from 4.7 to 4.7.1
_____________________________________________________________________________

1) New BEAM Features

o The GPF Operator API now provides better support for image filters and
  convolutions. Now it is possible to call getSourceTile(...) with a
  BorderExtender parameter which is a strategy used to fill the raster regions
  that lie outside the bounds of the source image.

o There is an easier way for developers to check the availability of a tile's
  sample value at a given image position by using isSampleValid(...).

2) Complete list of BEAM 4.7 bug fixes and improvements

New Features
BEAM-1112 - GPF Operator API to provide better support for image filters and convolutions
BEAM-1114 - GPF Tile API to provide method to directly check sample validity

Improvements
BEAM-1116 - GPF Tile API and API-docs to better express difference between raw and physical samples
BEAM-1085 - Support reprocessed data by NASA OBPG
BEAM-1110 - Don't show empty masks for pins and GCPs

Bugs
BEAM-1097 - Exception if reprojection results in large target product
BEAM-1108 - Import of Pins/GCPs fails
BEAM-1107 - METOP reader cannot open subset products
BEAM-1095 - Pixel position is updated when geo-location is changed for GCPs
BEAM-1118 - Deletion of masks
BEAM-1093 - Dragging does not work in Layer Manager
BEAM-1057 - Navigation rotation edit field prevents rotating image
BEAM-1105 - NullPointerException is thrown, if editor for geometry layer is visible
BEAM-1087 - OBPG child products can not be read
BEAM-1088 - Orthorectification does a map projection only
BEAM-1109 - Pixel Info View does not update if "Snap to selected pin" is clicked
BEAM-1103 - Product outside of target area breaks processing of L3 binning
BEAM-1106 - ToolViews do not reflect the selected state correctly in all cases
BEAM-1099 - DefaultSingleTargetProductDialog without processing parameter leads to exception
BEAM-1121 - Range Finder Tool yields NaN values
BEAM-1082 - Installation instructions are wrong for GETASSE30
BEAM-1094 - Not possible to add placemarks if scrollbars are used
BEAM-1111 - Placemarks are not correctly moved if multiple are selected


_____________________________________________________________________________

 Changes from 4.6 to 4.7
_____________________________________________________________________________


1) New VISAT Features and Improvements

o VISAT now provides a Geometry Management allowing users to draw and
  manipulate geometries (vector data) or to import them from ESRI Shapefiles.
  Geometries are now an integral part of the BEAM data model.

o The VISAT Mask and ROI Management has been revised completely. Any number
  of raster data masks can be defined by band maths expressions, value ranges
  and existing geometries. Each mask can serve as a region of interest (ROI)
  for raster data analysis.

o The Statistics, Histogram, and Scatter Plot tool windows have been enhanced
  in order to support the new, named ROIs. The Statistics tool window can now
  operate on multiple ROIs.

o The Reprojection (formerly 'Map Projection'), Mosaicing and
  Orthorectification processors have been redesigned from scratch.
  Due to the great GeoTools library, BEAM now offers more than 100 predefined,
  map projections based on their EPSG codes. For user-defined map projections
  you can now select from 25 map projection transformations and more than
  100 geodetic datums. Since the new Reprojection, Mosaicing and
  Orthorectification processors are developed using the
  BEAM Graph Processing Framework (GPF), they now offer a powerful command-line
  and can be used in any GPF XML processing graph for, e.g., pre- and
  post-processing. Finally, the runtime performance of this tools has been
  drastically improved.

o The Navigation tool window has been improved. It is now feasible to display
  a synchronized pixel cursor in all image views.

o The World Map tool window has been completely revised. It now uses a
  higher-resolution RGB (NASA Blue Marble) in which you can easily pan and
  zoom in and out.


2) Complete list of BEAM 4.7 bug fixes and improvements

New Features
BEAM-470 - Provide cut/copy/paste commands
BEAM-471 - Provide delete command
BEAM-494 - Provide support for more map-projections
BEAM-498 - Provide a layer for editable shapes.
BEAM-1010 - Show cursor position in other views
BEAM-1016 - Add "Zoom to Layer"-Button to Layer Manager
BEAM-1073 - Introduce new geometry management
BEAM-1074 - Introduce new mask and ROI management
BEAM-1075 - Reengineer map projection by exploiting GeoTools API capabilities
BEAM-1076 - Revise statistics to use multiple ROIs

Improvements
BEAM-484 - Simplify ROI/Shape management
BEAM-657 - Include co-location capabilities
BEAM-662 - The mapproj-tool should have help option
BEAM-962 - Provide VISAT action to open a GPF operator GUI
BEAM-1007 - Geo-location / Tie Point Grid consistency
BEAM-1011 - Worl Map Tool View to utilise new layer capabilities
BEAM-1021 - File chooser boxes shall support "component documents"
BEAM-1022 - Use new NetCDF 4.0 library
BEAM-1029 - Make 'Nimbus' default look&feel on Unix
BEAM-1033 - DIMAP should preserve PixelGeoCoding
BEAM-1034 - Envisat reader should create PixelGeoCoding for FSG/FRG products automatically
BEAM-1040 - Exchange 'no data' with 'NaN' in text exports
BEAM-1050 - Preserve special geo-codings in all data processors
BEAM-1072 - Access raw counts of bands in band maths expressions
BEAM-1078 - OBPG reader should use the pure Java netcdf library
BEAM-1079 - Set product start and stop time from metadata
BEAM-1080 - The valid pixel expression of the OBPG L2 products does not conform to product specification
CBOX-75   - CHRIS/Proba product reader should use the pure Java netcdf library

Bugs
BEAM-456 - ROI includes also no-data pixels if "Include pixel by conditions" is selected.
BEAM-479 - Map-projections cannot check if projection and output parameters are applicable to a given data product.
BEAM-646 - World map incorrect on AATSR orbits
BEAM-729 - DEL-Key does not work for selected items in VISAT
BEAM-815 - Illegal argument exception in Java ArrayList when running mapproj.sh to process an ENVISAT ASAR N1 file
BEAM-850 - BEAM 4.2 Has Lost Command Line Scripting Capability of 'MosaicProcessorMain'
BEAM-984 - Mosaic Processor and VISAT freeze when selecting Transverse Mercator projection
BEAM-991 - Yaxis of scatterplot does not show the right values
BEAM-1000 - Spelling error in band arithmetic
BEAM-1001 - SelectedProduct can be null in BandArithmetic
BEAM-1002 - Editing bitmask overlays is not possible using the nimbus or gtk look & feel
BEAM-1004 - X and Y variables always zero in band arithmetic
BEAM-1005 - Incorrect scatter plot axes
BEAM-1006 - MER_FSG pixel geocoding not used
BEAM-1008 - Mapproj tool is slow
BEAM-1014 - ROI not considered when using value range
BEAM-1015 - ProductUtils.copyTiePointGrids does not copy description text
BEAM-1017 - Wrong constant SECONDS_PER_DAY
BEAM-1018 - Value range of ROI does not consider no-data value
BEAM-1019 - Blue Marble Layer can not be restored from saved session
BEAM-1020 - Exception during GUI initialization of Mosaic processor
BEAM-1023 - Can not overlay compatible products
BEAM-1024 - VISAT does not launch after Java update on Mac Os X
BEAM-1025 - Installer does not run after Java update on Mac Os X
BEAM-1026 - Mac/*nix commands/scripts fail because wrong line format (LR+CR)
BEAM-1027 - VISAT icon is missing on Mac OS X
BEAM-1028 - Navigation window not fully functional on Unix/GTK+
BEAM-1030 - UTM projected products have wrong CRS
BEAM-1031 - Filtered bands are not available when opening a saved product in VISAT
BEAM-1032 - Orthorectification not applicable for MER_FRS_2P
BEAM-1035 - BandArithmetic.NamespaceExtender should not hold references to products
BEAM-1036 - Ensure temporarily loaded products are disposed in processors
BEAM-1037 - PConvert does not consider histo-skip option
BEAM-1038 - Not possible to export a product on Mac OS X
BEAM-1041 - Update jai-imageio library to support big GeoTiff files
BEAM-1042 - Pin pixels exported using BEAM 4.6.1 not correct.
BEAM-1044 - Colour palette changes when valid-pixel expression or no-data value are modified
BEAM-1047 - BandArithmetic operator does not consider geo-coding
BEAM-1048 - Product can not be opened if it contains Pin located outside product boundary
BEAM-1049 - Export image dialog has strange behavior
BEAM-1051 - A corrupt product breaks the binning process
BEAM-1053 - SMAC incorrect units
BEAM-1056 - Statistics of ALOS/AVNIR2 are initially not correctly computed
BEAM-1061 - Corruption of band layer generated from command line using Band Maths Tool in BEAM 4.7 RC1
BEAM-1062 - Mis-spelling of Band Maths
BEAM-1065 - Method TiePointGrid.cloneTiePointGrid() does not consider the unit
BEAM-1069 - include wavelength into band property but spectrum view does not work


_____________________________________________________________________________

 Changes from 4.5 to 4.6
_____________________________________________________________________________

1) New VISAT Features

o A couple of new layers have been added to VISAT. Layers are used to enhance
  the (image) views by displaying additional data sources. The new layers are:
  - Images of other bands or tie-point grids
  - Images loaded from JPG or PNG image files
  - Images downloaded from a Web Map Service (WMS)
  - ESRI shapefiles
  - NASA Blue Marble for Lat/lon projected views
  - Wind speed vectors for MERIS

o The layer manager tool window is now used to add, remove, change, select
  and organise the layers displayed in the selected view.

o The new layer editor tool window is used to manipulate the properties of the
  selected layer.

o VISAT now allows to store and restore sessions. A session comprises all
  opened product files and associated views along with their layers and
  layer settings. A stored session only stores the file path references,
  not the product data.

2) VISAT Improvements

o The band arithmetic GUI has been completely revised and simplified.

o When creating non-virtual bands using band arithmetic in BEAM versions
  prior to 4.6, the raster data has been allocated in memory which often caused
  out-of-memory errors for large images. This problem has been removed, raster
  data is now computed when requested.

o The image export has been improved. Users can now specify the image output
  resolution. The created image files will directly represent the content of the
  selected view comprising all displayed layers.

o The colour manipulation window now indicates rough statistics generated
  from a low-res version of the displayed image. Users can now compute accurate
  statistics on demand.
  Colour palette import will now either
  - try to keep colours assigned to sample values or
  - distribute evenely between sample min/max range.

o Band arithmetic now takes into account no-data values from all bands and
  tie-point grids referenced by the band-math expression (with no loss in
  runtime performance).

3) Complete list of BEAM 4.6 bug fixes and improvements

BEAM-999  Rounding errors in map geocoding
BEAM-998  VISAT fails to import shapes from ESRI shapefiles
BEAM-997  VISAT should display a band's coordinate system
BEAM-996  Let user specify dimension of exported images
BEAM-995  Exporting image yields out-of-memory error
BEAM-994  VISAT "Save As" command shall not close views anymore
BEAM-993  Filter band not correct if band is UINT type and does not have scaling
BEAM-989  ATSR active fire bitmasks
BEAM-988  Processor dialogs to output performance statistics
BEAM-987  Processor dialogs to output detailed error messages
BEAM-981  Valid-pixel expression removed when running 'mapproj' tool
BEAM-981  Valid-pixel expression removed when running 'mapproj' tool
BEAM-980  Cannot set output size in 'mapproj' tool
BEAM-937  Colour palette sometimes incorrectly imported
BEAM-936  Layer visibility is not synchronised with tool bar buttons
BEAM-932  Inconsistent handling of adding and copying bitmasks
BEAM-931  Shapes are not displayed while drawing
BEAM-930  Navigation Window disregards manual scaling factor editing
BEAM-928  Statistics shall be shown immediately if already computed
BEAM-927  Mean and standard deviation of statistics are inexact
BEAM-926  Mean and standard deviation shall be stored in DIMAP
BEAM-924  Radiance to reflectance processor does not copy geo-coding
BEAM-923  Wrong exception type thrown on format errors
BEAM-922  Wrong Exception type thrown on format errors
BEAM-921  Sometimes pin manager cannot delete pins
BEAM-920  Pins in view out-of-sync with those in pin manager
BEAM-919  Spectrum view often causes severe problems with pins
BEAM-917  Value of a single pixel is not considered in histogram
BEAM-916  Colour manipulation shall allow values outside of histogram range
BEAM-912  Bitmasks don't work when applied in some sequences
BEAM-913  Histogram disappears for RGB channel in colour manipulation
BEAM-910  VISAT module manager does not work under Vista OS
BEAM-909  Expression or no-data changes of virtual band disregarded in image view
BEAM-907  PConvert fails with an IOException
BEAM-906  Bitmask layers are duplicated in within the layer manager
BEAM-904  Image export does not clip to the product bounds
BEAM-902  Graticule looks scrambled if it is displayed
BEAM-901  ROI sometimes not considered in Scatter Plot
BEAM-900  BEAM-DIMAP writer fails, if resulting XML has more than 20 indentation levels
BEAM-899  Colour manipulation window disregards RGB source band changes
BEAM-898  Display TIFF and GeoTIFF tags in metadata
BEAM-897  Installer should ship Java server VM for appropriate systems
BEAM-896  Missing "Color Manipulation" histogram
BEAM-895  "Zoom to selected Pin" in Pin Manager incorrectly moves image view
BEAM-894  Adapt check for valid ICOL product type
BEAM-893  Inconsistent handling of colour palettes in VISAT colour manipulation window
BEAM-892  VISAT colour manipulation window shall signal inexact statistics
BEAM-891  Model transformation is not applied if GeoTiff is projected
BEAM-889  Virtual bands are added as empty images to GeoTIFF files
BEAM-886  Meris L1N data products are not accepted
BEAM-882  Pin and GCP shapes grow when image is rotated
BEAM-880  Pixel info view has a typo
BEAM-879  Cannot display flag values
BEAM-878  ROI manager: unexpected behaviour with polylines
BEAM-877  Improve compatibility with icol products
BEAM-782  Using spatial subset when creating new arithmetic band causes exception
BEAM-216  Support ESRI Shape Files

_____________________________________________________________________________

 Changes from 4.2 to 4.5
_____________________________________________________________________________

1) New BEAM Features and Improvements

1.1) VISAT Imaging

The aim of BEAM version 4.5 is to efficiently handle high resolution data
products in terms of number of pixels per image. This has been achieved by
totally rewriting the imaging code used of BEAM. BEAM now uses
tiled images and image pyramids for a number of imaging operations. The result
is a greatly improved image display performance and memory usage.

o VISAT can now rapidly display, pan and zoom Envisat MERIS FRS and ASAR WSM
  products with up to 50000 x 6000 pixels per image. Also users of LANDSAT
  and ALOS AVNIR and PRISM will pretty much appreciate this enhancement.

o VISAT image views now comprise a semi-transparent navigation control field
  (similar to the one of Google Earth) used to move, scale and also rotate
  the current viewport. The control field can be switched on/off in the user
  preferences dialog. Usage of scroll bars is now also optional.

o VISAT now also comprises a layer manager used to quickly show/hide layers such
  such as bitmask overlays and to modify their transparency on the fly.

o Due to the new imaging technology used, the VISAT colour manipulation tool
  and statistics computation now perform very fast.

1.2) GeoTIFF Reader and Writer

o The GeoTIFF writer has been redesigned in order better adhere to the GeoTIFF
  specification. GeoTIFF files written by BEAM now also contain BEAM related
  product metadata.

o A new GeoTIFF reader also recognises BEAM related product metadata.


2) Other improvements and bug fixes (consult BEAM issue tracker for detailed information)

BEAM-876   	Remove "Load Data" and "Unload Data" actions from context menu
BEAM-875    The drop down list of projections in the map projection dialog should be sorted alphabetically
BEAM-874   	Ensure thread safety of product reader
BEAM-872   	Adapt Navigation View to new imaging behavior
BEAM-871    Envisat reader inefficiently reads single lines when tiles are requested
BEAM-870   	Remove the "Zoom-Plus" and "Zoom-Minus" buttons from statistic panels
BEAM-869    Provide a layer manager
BEAM-868    Imaging shall be based on tiling and image pyramids
BEAM-867   	NDVI processor fails with a ClassCastException in non-interactive mode
BEAM-864   	Filtered bands shall use JAI
BEAM-863    Improved behaviour when windows are tiled
BEAM-862   	Creating ASAR NRCS band leads to exception
BEAM-861   	Histogram on color manipulation editor showing wrong max value
BEAM-855   	Reader plugin does not close SD interface
BEAM-854   	ROI shifted by one pixel compared to shape
BEAM-853   	Context menu is not shown correctly on Mac OS X
BEAM-852   	Importing pins from txt file using date as "name" causes death of visat
BEAM-851   	Missing NetCDF command in import menu
BEAM-849   	RESTEC ALOS PRISM & AVNIR-2 Longitude Coordinates not being read correctly
BEAM-845   	Created JPEG Images have false colours
BEAM-844   	False computation of bitmask overlay colours
BEAM-842   	Context menu is not triggered on linux
BEAM-841   	EM clustering does not come to an end for small scenes
BEAM-840   	MODIS L2 "*.x.hdf" read error
BEAM-839   	Improper initialization of EM clustering algorithm
BEAM-495    Provide reader for GeoTIFF
BEAM-828   	New ASAR products for envisat reader
BEAM-791   	Inaccuracy in geo-coding for AVNIR2

_____________________________________________________________________________

 Changes from 4.1 to 4.2
_____________________________________________________________________________

1) New BEAM Features and Improvements

o New cluster analysis tools:
  - K-Means (fast)
  - EM, Expectation Maximisation (slow, but outputs also probabilities)
o Enhanced image colour manipulation tool:
  - Editor for classified images (e.g. output from cluster analysis)
  - Continuous and discrete colour palettes
  - No-data pixels can be either transparent or have a special colour
  - Transparency can also be used as colour in a palette
o New product reader for NASA Ocean Color (OBPG) data products:
  - MODIS A/T Level-2
  - CZCS Level-2
  - OCTS Level-2
  - SeaWiFS Level-2
o Three new MERIS Processors for Case-2 Waters
  - Case-2 Regional Processor
  - Boreal Lakes Processor
  - Eutrophic Lakes Processor
o VISAT user interface improvements
  - Option to store/restore layout of all tool bars and tool windows
  - While dragging a tool window, annoying auto-docking is now active only
    if CTRL-key is pressed.

2) Other changes (consult BEAM issue tracker for detailed information)

BEAM-837 	Search in VISAT Help does not work
BEAM-836 	Update product header if changed during computation
BEAM-833 	GPT computes incomplete output rasters
BEAM-832 	Coordinate list does not consider "No Data" correctly
BEAM-831 	Export transect pixels does not consider no-data value
BEAM-830 	Compute ROI area does not finish
BEAM-829 	Geo-position of pins is not updated if geo-coding changes
BEAM-827 	Standard dialogs for operators should be modeless
BEAM-826 	Support for user defined layout
BEAM-825 	Use JFreeChart for plots in statistic dialogs
BEAM-822 	GPT crash with virtual bands
BEAM-821 	MERIS L3 MGVI cannot be opened in BEAM
BEAM-820 	Deactivate auto docking of tool views by default
BEAM-819 	Newly opened products should not be expanded
BEAM-818 	Rename menu entry to Radiance to TOA Reflectance Conversion
BEAM-812 	Closing product causes Exception in ScatterPlot
BEAM-811 	Graph should contain an application specific data section
BEAM-810 	Provide VISAT application framework
BEAM-808 	L3 processor doesn't set no-data value of output bands
BEAM-806 	Default aggregation algorithm should be "Arithmetic Mean" in L3 processor
BEAM-805 	Valid pixel expression field in L3 processor GUI should be an editable field
BEAM-803 	Add support for all ASAR products and format versions
BEAM-801 	TiePointGeoCoding should consider non-linear distribution of longitude values across-track
BEAM-800 	Graph xml shall support id/refid syntax
BEAM-799 	Introduce version element in graph xml
BEAM-796 	Index coding for classification bands
BEAM-795 	Computation of target properties
BEAM-792 	Control setting of operator parameter default values
BEAM-790 	Inherited parameter annotations of GPF operators ignored
BEAM-787 	C-Function code for x approximation is printed twice
BEAM-780 	Auto-generated GUI prompts for overwrite although target is not written
BEAM-779 	Auto-generated GUI does not take over parameters
BEAM-776 	Provide TileIterator to loop over all tile pixels
BEAM-775 	"Write" operator not invoked if last node in graph
BEAM-774 	gpt reports NullPointerException if called on a graph without parameters
BEAM-773 	gpt shall no longer log warnings to console
BEAM-770 	gpt prints stack trace when invoked without sources
BEAM-768 	Envisat Reader shall read all types of DSDs
BEAM-767 	Band arithmetic shall handle String types
BEAM-764 	METOP AVHRR product have start and stop time from parent product
BEAM-763 	Splash screen shall not be top-most
BEAM-759 	Clearing empty endmember list leads to an exception
BEAM-757 	Layout of help pages is not uniform
BEAM-738 	Toolwindows sometimes disappear
BEAM-735 	Not able to orthorectify MERIS_FRS products
BEAM-731 	Shape-to-ROI creates initially no ROI
BEAM-726 	Memory not fully released after closing a product
BEAM-718 	Show all product formats in reopen menu
BEAM-710 	Not able to copy a product using new product dialog
BEAM-709 	Open dialog should use 'All Files' as default filter
BEAM-694 	Bandarithmetic gives access to latitude and longitude using the provided geocoding
BEAM-693 	ROI not visible if converted from shape
BEAM-655 	Fail to open MERIS L3 4.6 km sinusoidal grid
BEAM-530 	Explicit declaration of sources, targets and parameters in graph xml
BEAM-523 	Memory leak after closing a product subset
BEAM-504 	Exchange existing diagrams by more professional ones
BEAM-45 	An exception appears on the console if you try to import the ATS_AR__2PTRAL product


_____________________________________________________________________________

 Changes from 4.0 to 4.1
_____________________________________________________________________________


1) New BEAM Features and Improvements

o New collocation tool (VISAT and batch-mode)
o New spectral unmixing tool (VISAT and batch-mode)
o New management of ground control points
o New geo-coding based on ground control points
o The management and display of pins has been greatly enhanced
o The spectrum tool view has been greatly enhanced
o Metadata views changed from flat table to hierarchical tree views
o Image creation is now faster
o BEAM uses a new installer based on install4J

2) Other changes (consult BEAM issue tracker for detailed information)

BEAM-706  	Display metadata in tree view
BEAM-704 	Exception from dataio.PinSymbol when running from Console
BEAM-699  	Editable cells of pin and GCP tables
BEAM-698 	Sortable table of pins and GCPs
BEAM-694 	Bandarithmetic gives acces to to latitude and longitude using the provided geocoding
BEAM-691 	The Cloud Probability processor cannot cope with 'MER_FRS_1P' files.
BEAM-690 	Group top level tags in DIMAP
BEAM-689 	GCPs supported by DIMAP
BEAM-684 	Pixel-info view functions only if initially visible
BEAM-682 	The SMAC Processor cannot cope with 'MER_FRS_1P' files.
BEAM-678 	Change pin location by dragging
BEAM-677 	Support for ground control points (GCPs)
BEAM-676 	New geo-coding based on GCPs
BEAM-673 	Allow for multiple spectra in spectrum view
BEAM-672 	Include spectral unmixing tool
BEAM-671 	Pin pixel coordinates should be floating point numbers
BEAM-669 	Improve performance of FUB/WeW Water Processor
BEAM-668 	Port FUB WeW Water Processor
BEAM-666 	GeoTIFF writer ignores orientation angle
BEAM-660 	Speedup image creation process
BEAM-659 	Location of new version of Beam
BEAM-656 	Support for MERIS band subset
BEAM-653 	Landsat reads the raw data (unsigned bytes) wrong
BEAM-652 	Smile correction cannot be applied to MER_FRS data
BEAM-653 	Landsat reads the raw data (unsigned bytes) wrong
BEAM-648 	GeoTIFF parameters written in wrong order
BEAM-647 	export of transverse mercator projected product as geoTIF is not imported correctly in arcGIS
BEAM-649 	GeoTIFF writes FLOAT32 bands only
BEAM-643 	If several pins are selected, only one is deleted if trash can is choosen
BEAM-642 	Show pins also if no geolocation is allocated to the product
BEAM-641 	Installer does not work on Fedora7
BEAM-640 	Installer fails on Ubuntu systems
BEAM-638 	Element "FORMAT_DESCRIPTION" should read "DESCRIPTION"
BEAM-636 	Make pin labels nicer
BEAM-635 	Allow for multiple selected pins
BEAM-634 	Make pin size independent of zoom factor
BEAM-633 	Ask before removing pins
BEAM-632 	Make pins available for all product types
BEAM-631 	Revise product pin management API
BEAM-629 	Check compatibility With new AT2_TOA format
BEAM-624 	Support for AT1_NR__2P and AT2_NR__2P products in ENVISAT-format
BEAM-619 	New graph processing framework (GPF) module
BEAM-616 	Remove package org.esa.beam.framework.dataproc
BEAM-614 	Not possible to re-select item in Arithmetic Expression Editor
BEAM-600 	Installer doesn't work properly on Windows Vista
BEAM-599 	Installer allows selecting JRE prior version 6
BEAM-587 	Exception during installation on Mac
BEAM-578 	Installer script fails with error message
BEAM-557 	Starting VISAT on Mac OS X results in an exception
BEAM-526 	Geo-boundary polygon incorrectly computed for scenes crossing 180 deg meridian twice
BEAM-496 	Provide a tool for manual co-registration using GCPs
BEAM-482 	Pins shall not be selected by default.

_____________________________________________________________________________

 Changes from 3.7 to 4.0
_____________________________________________________________________________

1) New general BEAM Features and Improvements

o New chris-reader capabilities (drop-out correction)
o BEAM is split in to several modules
o A runtime environment for managing modules and
  extension points is introduced (called ceres)

2) New VISAT Features, Improvements and Changes

o User interface has been modernised by the use of dockable tool windows
o Introducing a module manager to update, install and uninstall modules
o The open dialog is now supporting multiple formats

4) Java API Changes

o The API to monitor and indicating progress is replaced
o Several deprecated methods and classes removed


_____________________________________________________________________________

 Changes from 3.6 to 3.7
_____________________________________________________________________________

1) New general BEAM Features and Improvements

o Support for CHRIS/Proba products added
o Support for ERS-1/2 ATSR and SAR products in Envisat format added
o Support for NOAA AVHRR/3 Version 5 (CLAVR-x) added
o Support for Landsat-5 TM FAST products added (special thanks to Christian Berwanger)
o Displaying more metadata of PRISM/AVNIR-2 products.

2) New VISAT Features, Improvements and Changes

o The world-map uses a low- and a high-resolution image
o The contrast stretch window has now an additional button "Distribute Evenly".
  This performs an even distribution of the sliders between the first and the
  last one (BEAM-46).
o PINs can now be copied to other products.

3) Fixes

o HDF5 writer can now write virtual bands.
o Changed default no data value in map-projection and mosaic processor from
  10000 to 9999.
o The quick-look band name is now preserved when creating a subset or building
  a subset of a product.
o When starting the SMAC processor within VISAT with an opened AATSR product
  the bitmasks are not updated correctly (BEAM-524).
o Map-x and map-y are the same in result of "Copy pixel info to clipboard". (BEAM-519)
o The order of the output bands of the Mosaic processor is now preserved,
  also for the second run. (BEAM-182)
o The setting "Warn, if any arithmetic exeptions is detected" in the
  Band Arithmetic Editor does not work for virtual bands. (BEAM-364)
o For Aatsr products - and any other product type - that cross 180 deg
  meridian more than once, the geo boundary is incorrectly composed of
  two multipolygons. (BEAM-526)
o The no-data value for mosaic processor and map_proj tool are now handled
  correctly.
o Fixed a problem if product scenes cross the 180 degree meridian (BEAM-462).
o Products which cross the 180 degree meridian are now correctly exported into
  the Google Earth KML format. (BEAM-515)

4) Java API Changes

o Deprecated PropertyFileParameterPage(File, String) and
  PropertyFileParameterPage(ParamGroup, String).
o Added PropertyFileParameterPage(File), PropertyFileParameterPage(ParamGroup).
o Enabled write support for virtual bands.
o Added class org.esa.beam.visat.modules.worldmap.WorldMapImageLoader to handle
  loading of world-map image centrally.
o Added ProductIO.readProduct(File file, ProductSubsetDef subsetDef, String[] formatNames);
o Added MapProjection.hashCode() and MapProjection.equals(Object obj)

_____________________________________________________________________________

 Changes from 3.5 to 3.6
_____________________________________________________________________________

1) New general BEAM Features and Improvements

o Added reader for ALOS/PRISM (CEOS format)
o Added reader for MERIS binned Level-3 (netCDF)
o Changed reader for ENVISAT: Now also supports ASAR GM
o Changed reader for generic netCDF: Now stores metadata in MPH + DSD
o Changed reader for NOAA AVHRR/3: Now supports format version 4 (CLAVR-x)

2) New VISAT Features, Improvements and Changes

o Added function to create ASAR Normalised Radar Cross Section bands
o Added scan-line time display to pixel info view
o Added color palette export
o Added non-linear filters e.g. Min, Max, Median, Mean,...
o Added Google Earth (TM) KML format export
o Improved image resolution of world map view, added 32x zoom level.
  World map image can now be changed in directory auxdata/worldmap
o Metadata is now included by default in the subset definition dialog
o Flipping tool now also works for non-geocoded products

3) AATSR SST Processor Enhancements

o Added new default coefficient files. Default coefficients have been
  taken from the auxillary data file
  ATS_SST_AXVIEC20051205_102103_20020101_000000_20200101_000000
  of the current operational AATSR SST Level-2 processor.
o Fixed a bug in the SST retrieval algorithm (night-mode, dual view)

4) Fixes

#BUG - NetCDF reader flipps products with decreasing latitude values (build #3951)
#713 - Radiance-To-Reflectance processor does not copy sensing start/stop time of processed product
#699 - A saved request for the Radiance-To-Reflectance processor cannot be re-opened
#693 - The SST processor set the "invalid" (= no-data value) to the output bands but set not the used flag
#692 - Polar stereographic projection is not considered when exporting a product to GeoTiff
#690 - Subset builder copies histogram info which does not correspond to the subset anymore
#688 - VISAT corrupts Mosaic output product.
       Mosaic product parameters are stored as metadata which is not written
       if preference key 'Include ADS in Metadata' is false

5) Java API Changes

o Added New CombinedFXYGeoCoding (for PRISM sensor)
o The package org.esa.beam.dataio.alos has been renamed to org.esa.beam.dataio.ceos
o The classes CeosFileReader and IllegalCeosFileException are moved to the
  package org.esa.beam.dataio.ceos
o Product.set/getQuicklookBandName()

6) Other BEAM Software Changes

_____________________________________________________________________________

 Changes from 3.4.1 to 3.5
_____________________________________________________________________________


1) New VISAT Features

    o Statistics-Dialog is now non-modal. This means the dialog stays open while
      a different band can be selected whose statistics are then displayed.
    o Added new command 'Attach/Detach Pixel Geo-Coding' in the 'Tools' menu.
      This feature allows to use latitudes and longitudes provides as bands as
      current geo-coding. The driver for this new feature was the support of
      the new MERIS FRG and FSG data products.
    o Added new command 'Apply Convolution Filter' in the 'Analysis' menu.
      Convolution filter can be used to generate filtered versions of a selected
      band or tie-point grid.
    o Added new command 'Create Elevation Band' in the 'Tools' menu. This
      feature adds a new elevation band to the current product. The altitudes
      are computed by looking up each pixel in a selected hi-res DEM (which is
      by default the GETASSE30 DEM).
    o The output parameters dialog of the map-projection dialog has been
      enhanced. The parameters 'Reference pixel X', 'Reference pixel Y' and
      'Orientation angle' have been added in order to support the
	  requirements given by ALOS/AVNIR-2 geo-codings.

2) Data Processor Enhancements

    o  Cloud Probability Processor:
       - The processor uses now 2 improved neural networks. One is applied
          over the ocean and the other over land.
       - The processor is now able to write the logging output to the
         directory of the output product.
    o  Radiance to Reflectance Processor
       The new BEAM Radiance Conversion Processor converts TOA radiances into
       reflectances. Currently, only MERIS Level 1b products are supported
    o  The Mosaic Processor supports processing of products with a pixel-based
       geo-coding.

3) New general BEAM Features and Improvements

    o BEAM now can read ALOS/AVNIR-2 Level-1 products.
      Currently only products in the CEOS format are supported.
    o The MODIS bow-tie effect has been removed. Artifacts caused by this effect
      will disappear after map-projecting MODIS products.
    o A basic reader for NetCDF files has been developed in order to support
      GHRSST-PP products, the standard MERIS Level-3 data products and
      the upcoming Level-3 products of the GlobCOLOUR project
      (www.globcolour.info). Basically, the netCDF reader can support any image-
      like netCDF file structure up to netCDf version
      3.5. The NetCDf Java library version currently is 2.2.12.
    o The new MERIS Level-1b FRG and FSG data formats are now supported in BEAM.
      These data products add high accurary geo-location information the the
      standard MERIS FR and FRS products. Currently MERIS FRG and FSG are not
      officially available but can be generated using the AMORGOS software which
      will be available soon from the Envisat Tools page at
      http://envisat.esa.int/services/tools_table.html.
    o Several new options are available for the "pconvert" tool:
        o The options -W, -H force a specified width or height for image output.
        o The option -n specifies the color that should be used for the no-data layer.
        o The otpion -c specifies the file path to a text file containing a
          color palette definition.
        o When using an RGB profile you can use red, green and blue, or r, g and b
          for setting the RGB expressions.
    o The "map_proj" tool now supports pixel-based geo-coding (for MERIS FSG)
    o The list of available map projections has been extended by
        - Stereographic
        - Stereographic, Universal Polar North
        - Stereographic, Universal Polar South

4) Fixes

#094 - The MODIS bow-tie effect is now removed when MODIS products are
       reprojected
#xxx - (L3) Width and height of output product was wrong by 1.
#674 - Processors tried to open every output product as Dimap.
#673 - The progress bar of the ProductGrabber was not always visible when
       processing repositories
#669 - Exporting a not yet saved subset led to duplicated SubsetInfo
       metadata entries or in the special HDF5 case to an exception
#663 - NullPointerException in 'Import Transect Data' fixed if shape out
       of scene bounds
#641 - MapProjection was equal to all projected products within a session
       when same transformation was used
#623 - (9) "Assign ROI to multiple bands" now works for non-visible bands
           as well
       (8) "Assign ROI to multiple products" now deselects pin usage if
           no pins available in target product
       (1) "Assign ROI to multiple products" now transfers ROI shapes
           in pixel coordinates if the target product is spatial compatible.
           This prevents from pixel shifts occurring during transformation
           of the shape from the source product's to the target product's
           coordinate system.
#58x - If processors are aborted by user request the message "The request
       has successfully been processed" came up.
#48x - If output product is empty, IllegalArgumentException occurred.
#49x - If processors are aborted by user request, *.data and *.dim were not
       deleted.
#685 - Map-projection parameters not in sync with ellipsoid of given datum
       from source product
#686 - Many UI label texts did not have a trailing colon.

5) Java API Changes

    o ProductFileChooser.clearProductSubsetDef() added to be able to
      clear it before exporting the product again
    o New Processor UI
      In package org.esa.beam.framework.processor.ui multiple classes
      were introduced. The class MultiPageProcessorUI creates an UI where
      multiple pages can be added. The classes IOParameterPage,
      PropertyFileParameterPage and ProcessingParameterPage give default
      implementations for use with the MultiPageProcessorUI. For creating
      your own UI page, derive from ProcessingParameterPage and overwrite
      addParameterToPanel().
    o RasterDataNode.getGeoCoding() and setGeoCoding() were introduced so
      that each band can have its own geo-coding.
    o Discouraged the use of Product.getGeoCoding()
    o New ResamplingFactory class
      Creates a concrete resampling method by a given name.
    o FXYSum
      - Introduced a factory method FXYSum.createFXYSum() for creating
        instances by a given order and a list of coefficients.
      - Introduced a copy method FXYSum.createCopy(FXYSum fxySum).
    o New AbstractGeoCoding introduced
    o New Scene and SceneFactory intruduced
    o New method Product.transferGeoCodingTo(..)
    o New method FXYSum.createCopy()

6) Other BEAM Software Changes

    The XML support libraries 'crimson.jar' and 'jaxp.jar' have been
    removed from the $BEAM_HOME$/lib folder and all classpaths since
    they are not required anymore. 'nc_core.jar' has been added for supporting
    the NetCDF data format.

_____________________________________________________________________________

 Changes from 3.4 to 3.4.1
_____________________________________________________________________________

Version 3.4.1 is a pure service release which fixes some severe problems of
version 3.4. The bug fixes are:

1) Processors did not accept empty parameters within a request file when
   running in batch mode.

2) If the shape outline transparency was set to 0, the fill transparency was
   ignored.

3) When overwriting an existing band using the band arithmetic and referencing
   this band in the expression, an error dialog is shown.

_____________________________________________________________________________

 Changes from 3.3 to 3.4
_____________________________________________________________________________

1) VISAT Improvements

   o  Import/export file chooser dialogs now remember their last position and
      size on the screen
   o  Reduced memory consumption during opening an image view. Now 30% less
      memory is needed for image display
   o  Now it is possible to reorder the bitmask definitions inside the
      bitmask overlay window
   o  The user can now create own RGB image profiles, it's also possible to
      delete profiles, except the default VISAT profiles.
      If there are multiple applicable RGB image profiles, the user is prompted
      to selected the desired profile.
   o  Spectral wavelength of a band can now be assigned to a band in the
      properties dialog. The spectrum view will update itself to changes of this
      properties. Also the spectral bandwidth has been made editable.

2) Data Processor Enhancements

   o  Level-3 Binning Processor:
      - It is now possible to process multiple bands with different algoritms at once.
      - Added flux-conserving resampling (provided by Thomas Lankester)
        in addition to binning resampling.
      - The tailoring of the geographical size of the output product can now be controled.
      - Fixed the handling of products crossing the 180 meridian.

   o  MERIS Level-1b Cloud Probability Processor has been added.

3) Data Format Enhancements

   o AVHRR/3 Level 1b Reader
     - Supports NOAA -15, -16, -17 and -18.
     - Reads data format version 2 and 3.
     - Reads the HRPT and LAC format.
     - Autodetecs and reads products with 8bit , 10bit and 16 bit and
       calibrates the data with the in the metadata supplied coefficients.
     - Reads matadata and flags.

   o BEAM now fully supports the MERIS IODD 7.3 format changes (reprocessing 3).
     The changes affect only the MERIS Level-2 product format, they are:
      - The quality flag AERO_BLUE has been renamed to OOADB
      - The quality flag DDV has been renamed to LARS_ON
      - An additional WHITE_SCATTERER flag has been introduced for water pixels
      - The band aero_opt_thick has been split into aero_opt_thick_443 (land) and  aero_opt_thick_885 (water).
        A new (virtual) band aero_opt_thick_550 combines the two for both land and water.
      - The description of the band toa_veg changed to "MGVI - MERIS global vegetation index",
        and of band boa_veg to "MTCI - MERIS terrestrial chlorophyll index"

4) Fixes
   o Fixes in map-projection:
     - Invalid samples in a source band are now correctly transformed to no-data
       samples in the target product.
     - The pixel resampling now fully considers the "valid-pixel expression" and
       "no-data value" properties. (#538)
     - Bitmask overlay information is now preserved from source to target bands if possible
   o In the final step (map-projection) of in the L3 binning processor the output product
     was not correctly closed. This was especially an issue when the output format was HDF-5,
     in this case a corrupted file was created.
   o The HDF-5 product writer now exports geo-coding information in a dedicated
     attributes group "geo_coding".
   o FLH/MCI and SMAC processors now correctly assign the spectral band index
     to output bands so that the spectrum view can now also be used on their
     output products
   o Changed MERIS flag descriptions: "non-confidential" --> "uncertain"
   o SmacProcessor: Message 'Unsupported input product of type ''. SMAC processes AATSR and MERIS L1b products.'
     on new request won't appear anymore.
   o Removed examples classes from beam.jar
   o PConvert does not use ConsoleProgressMonitor anymore
   o GETASSE30Reader did not set the file location for the products it created
   o When renaming a pin, upper/lower case letters have been ignored (#456)
   o Fixed problems with discontinuity in tie-point grids containing longitude and azimuth angles.
     In some cases, e.g. pole closeness, longitude values have not been correctly interpolated
     when tie-points values "jumped" from -180 to 180. MERIS azimuth tie-point grids have
     been corrected for the range 0 to 360.
   o Fixed the handling of negative values in the ATSR reader.

5) API Changes
   o added ProductUtils.overlayBitmasks(RasterDataNode raster, BufferedImage overlayBIm): BufferedImage
   o added Product.moveBitmaskDef(BitmaskDef def, int destIndex)
   o added constructor Tokenizer(String source, boolean caseSensitive)
   o added constructor RGBImageProfile(String name, boolean deletable)
   o added RGBImageProfile.isDeletable() : boolean
   o added constructor TiePointGrid(String name, int gridWidth, int gridHeight,float offsetX, float offsetY,
                                    float subSamplingX, float subSamplingY, float[] tiePoints,int discontinuity)

_____________________________________________________________________________

 Changes from 3.2 to 3.3
_____________________________________________________________________________

1) New VISAT Features:

    o No-Data Overlay
      Bands of a data product now determine by two means whether or not a
      pixel at a certain position contains data:
      - a no-data value is set and/or
      - a valid-pixel expression is given.
      In any case such pixels are now excluded from range, histogram and
      other statistical computations.
      In order to visualise the invalid pixel positions a new
      'No-Data Overlay' has been introduced. Its appearance can be adjusted
      in the VISAT preferences dialog.

    o Property Editor
      VISAT has now an editor for the most important properties of a data
      product and its bands and tie point grids. The editor is invoked
      either via the context menu which appears by right-clicking an item in
      the product tree view or the main menu. Currently the following
      properties have been made editable: name, description, units,
      no-data value, valid-pixel expression and virtual band expression.

    o Usage of general Expressions
      All usages of bitmask expressions (solely boolean expressions comprising
      flag values and the operators AND, OR and NOT) have been replaced by
      general mathematic expressions. E.g. the valid pixel expression in a
      for a ROI definition could now be "l2flags.LAND && reflec_6 / PI > 0.2".
      This change applies also to the VISAT bitmask overlay definitions and
      all data processors using a bitmask to decide if a pixel is valid or not.

    o Switchable UI Look & Feel
      In the VISAT preferences dialog, the look and feel of the VISAT UI can
      now be changed in the VISAT preferences dialog.

    o Band Arithmetic Enhancements
      Some new functions and symbols are now available for math. expressions:
      log10(x), exp10(x), feq(x), fneq(x), nan(x), inf(x), floor(x), round(x),
      ceil(x), rint(x).
      A new constant is 'NaN' (evaluates to not-a-number) and the new symbols
      'X' and 'Y' represent the current pixel position in the raster data to be
      processed.

    o VISAT Command Line Arguments
      The VISAT executable can now take product files paths as arguments.
      If your desktop environment allows for, you can then associate the
      "*.N1" extension of Envisat MERIS/AATSR product files or the "*.dim"
      of BEAM-DIMAP files to VISAT.

   For a more information on the features please refer to the VISAT help.

2) Other BEAM Changes and Improvements

    o Java Runtime Environment (JRE) 1.5.0_03 is now used by default, but
      source code compatibility with the JRE 1.4.2 is still provided

    o The 'mapproj' tool and the Mosaic processor now prerecord the region to
      be map-transformed and thus create a spatial subset before applying the
      actual map-projection. This solves many situations in which certain
      projections (especially automatic UTM) where not applicable.

    o The dataset descriptors (DSD) of the Envisat specific product header
      (SPH) is now converted to a metadata element of a data product.

    o Data products now contain a metadata element 'History' which lists all
      transformations performed with VISAT, e.g. subset creation and
      map-projection.

3) Public BEAM Java API Changes

   o Many usages of deprecated methods and classes have been replaced or
     removed. The deprecated ConsoleProgressMonitor, ImageMagnifier and
     ImagePanner classes have been removed from org.esa.beam.framework.ui.

   o Many methods new have been added to the Product and RasterDataNode class
     in order to force the use of general arithmetic expressions
     (com.bc.jexp.Term)

_____________________________________________________________________________

 Changes from 3.1 to 3.2
_____________________________________________________________________________

For a more detailed description of each new feature please refer to the
VISAT help.

1) New VISAT Features:

    o Orthorectification:
      VISAT now has a tool to orthorectify MERIS and AATSR bands. Since the
      orthorectification requires the altitude above a given geodetic position,
      users can choose between tie-point grid elevations or the DEM "GETASSE30"
      which is the default DEM in BEAM.

    o Digital Elevation Map Installation
      Because of its size, the BEAM installer will not automatically install
      the GETASSE30 DEM files. If a DEM is selected in VISAT, it is checked if it
      is installed. If not, the user is prompted to download and install the DEM
      files. VISAT can also automatically download and install the selected DEM.
      For more information on the DEM installation, please refer to the
      "readme.txt" or the VISAT help.

    o Resampling Methods:
      The map projection and orthorectification tools now offer three different
      resampling methods: Nearest Neighbour, Bi-linear Interpolation and Cubic
      Convolution.

    o Create Subset from View:
      A new entry in the context menu over an image view provides a new command
      which opens the product subset dialog with the currently visible region
      as predefined spatial subset.

    o Pin Tool Behaviour Change:
      If the pin tool is selected and you click into an image, the pin is created
      and displayed immediately, the pin properties dialog does not pop-up
      anymore. If the pin is the double-clicked, the diolog opens as before.

2) General BEAM Extensions:

    o Data product export to GeoTIFF:
      Data products can now be exported in the GeoTIFF file format. All
      measurement datasets are stored as 32-bit-floating-point geophysical
      values. This will enable the import of data products supported by
      BEAM into many GIS and geographic imaging tools.

    o Since required by orthorectification, BEAM is now able to handle
      digital elevation models (DEM) in a generic way. The new class
      org.esa.beam.framework.dataop.dem.ElevationModelRegistry
      can be used to register new DEMs in BEAM.

    o GETASSE30 Tile Import:
      A product reader has also been developed in order to import
      the tile files of the GETASSE30 DEM.

    o Projection Tool "mapproj":
      The batch mode projection tool "mapproj" now also supports orthorectification
      the new pixel resampling methods. Refer to the BEAM help for usage.

    o Mosaic Processor Version 2.1:
      A new mosaic processor version now makes use of BEAM's orthorectification
      capabilities.

    o MERIS Full Resolution, Full Swath Products:
      Envisat MERIS products of type MER_FRS_1P are now also supported by BEAM.

    o Help System Access for VISAT Plug-Ins:
      Visat plug-Ins can now have their own help-sets
      (Method org.esa.beam.visat.VisatApp.addHelp)

3) Public BEAM Java API Changes:
   New Methods:
      org.esa.beam.framework.datamodel.AbstractBand.getPointing
      org.esa.beam.visat.VisatApp.addHelp
      org.esa.beam.util.SystemUtils.getBeamExtensionDirs
      org.esa.beam.util.SystemUtils.getBeamAuxdataDir
      org.esa.beam.util.PlugInLoader.create
   New Classes & Interfaces:
      org.esa.beam.framework.datamodel.Pointing
      org.esa.beam.framework.datamodel.TiePointGridPointing
      org.esa.beam.framework.dataop.resamp.Resampling
      org.esa.beam.framework.dataop.dem.Orthorectifier
      org.esa.beam.framework.dataop.dem.ElevationModel
      org.esa.beam.framework.dataop.dem.ElevationModelRegistry
      org.esa.beam.framework.dataop.dem.ElevationModelDescriptor
      org.esa.beam.framework.dataop.dem.AbstractElevationModelDescriptor

4) Bug Fixes:

    iss #394: Introduced missing GeoTIFF support into "pconvert" tool
              (since BEAM build 3246)
    iss #395: Switched back to JRE 1.4.1_05, since 1.4.1_07 caused a VM crash with
              VISAT graticule overlays. The VM crash is a known issue at Sun and
              is fixed in Java 1.5. For detailes, please refer to
              http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=6215242
              (fixed since BEAM build 3246)
    iss #397: Exceptions in Processor.initProcessor have not been handled by the UI so far
              (fixed since BEAM build 3246)
    iss #276: Added help menu for all processor frames. An about box is now automatically
              created from processor metadata. Help can also be added to processors when
              started in stand-alone mode (fixed since BEAM build 3246)
    iss #389: Fixed binning processor AME algorithm: values where incorrect for weights != 1.0
    iss #378: Fixed +/-180 deg. problem with azimuth angles for MERIS/AATSR
    iss #391: Fixed flickering and resizing of the progress bar during progress
    iss #297: Fixed incorrect scaling factors in MODIS linear scaled bands.
    iss #296: Fixed JAI classcast exception while "pconvert" created histogram-equalized RGB images
    iss #341: Order of bands from mosaic processor was incorrect and thus spektra was not displayed
    iss #340: If a mosaic processing request was saved with an easting less than the default
              value, a reload of the processing request caused an exception
    iss #393: The HDF4/5 product reader is now using a logger instead of System.println
    iss #392: SystemUtils.getApplicationHomeDir() contained '%20' in paths containing spaces
    iss #295: Fixed problem with importing pin text files

_____________________________________________________________________________

 Changes from 3.0 to 3.1
_____________________________________________________________________________

1) VISAT Improvements

   o VISAT can now perform an on-line version check at start up and automatically
     inform the user if a new release is available on the server.

   o The pin labels can now be displayed in the image view. For this purpose, a
     pin now has an extra label property. Text appearence can be set in VISAT's
     preferences dialog. (issue #107)

   o ROI handling has been clarified, a new command "ROI to Shape" has been
     introduced as an opposite to "Shape to ROI". "ROI to Shape" can also
     subtract the shape from the ROI, whereas "Shape to ROI" can delete the
     source shape in one step.

   o It is now possible to show/hide an extra shape layer displayed in the image
     view.

   o The preview image in the product subset dialog is now created from the
     most suitable band in a product. E.g., for AATSR L1b products we now use
     an infrared channel so that night-time scenes can also be viewed.

   o The misleading textual description of the MERIS Level 2 confidence flags
     (PCD_X) have been changed. If a confidence flag is set, it means that the
     corresponding pixel value is uncertain.

2) Map-Projections in Batch Mode

   o Map-projections can now be performed in batch mode using the new command-line
     tool 'mapproj' to be found in the 'bin' folder in the BEAM installation
     folder. The processing request file can take the same output parameters as set
     in the corresponding dialog of the map projection tool. Please find more
     information about 'mapproj' in the BEAM documentation.

3) Mosaic Processor Improvements

   o Parts of the Mosaic Processor have been redesigned in order to reflect
     the requests of many users. The user interface is now much more intuitive
     and flexible.

   o Output bands are defined by input sources - a mathematical expression
     formed by arbitrary input bands.

   o Any number of "valid pixel conditions" determine which pixels are considered
     in the output product. A condition is comprises a name and a boolean
     expression. The number of matching pixels can be stored for each condition
     in the output product.

   o The list of input products can now also be displayed in the world map.
     (issue #13)

4) Geo-location Improvements

   o Geo-location has been improved in terms of the algorithms used to determine
     the pixel coordinate for a given geographical coordinate. This transformation
     is heavily uses in map projections and for transect and pin management.
     BEAM now uses exclusively polynomial approximations. In former versions an
     iterative approach has been used, when the root mean square error of the
     approximation was too high. This was always the case for full orbit scenes or
     scenes near the earth's poles. The disadvantage of the iterative approach was
     that it was unstabe under certain conditions, e.g. near the poles, and returned
     wrong pixel coordinates in such cases (issue #264).
     The new algorithm now subdivides such scenes into smaller subscenes. An
     appropriate pair of approximation polynomials x(lat,lon) and y(lat,lon) is
     then derived for each subscene. In VISAT, the view "Analysis/Geo-Coding
     Information" as been adopted to reflect the changes.
     For developers: The new algorithms are implemented in the class
     org.esa.beam.framework.datamodel.TiePointGeoCoding

  o  The map-projection now preserves "log-scaled" property of an input band, e.g.
     MERIS Level 2 "algal_1". (issue #009)

5) BEAM API Changes relevant for Java developers

    o IMPORTANT CHANGE: processors developed against beam.jar as of BEAM 3.0 can no longer be
      run under BEAM 3.1, although we still support the processor API as of BEAM 2.3. The
      reason is that the class org.esa.beam.framework.processor.Processor
      implemented an unhappy interface called ProcessProgressListener which we dont want to
      support anymore.
      WE ARE VERY SORRY TO INCONVINCE YOU WITH THIS CODE CHANGE!

    o Also many other methods in the BEAM API dealing with progress monitoring have been
      deprecated or even removed. Please take a look into the API doc of interface
      com.bc.progress.ProgressController which is now the preferred way to observe
      progress in long running tasks.

    o Implementation of org.esa.beam.framework.datamodel.TiePointGeoCoding changed
      and due to this, some of its methods have been deprecated.

    o The JAMA linear algebra package has been included into the BEAM API, the package
      name is simply 'Jama'. Also refer to http://math.nist.gov/javanumerics/Jama/.

    o The class org.esa.beam.framework.datamodel.Band has a new property: solarFlux.

6) Fixes

   iss #185: The help page "Supported ENVISAT Products" was not up to date regarding
             latest product MERIS L2 format changes
   iss #283: MERIS L2 rectified reflectances for red/near-infrared were interchanged
   iss #285: MERIS L2 yellow substance is from IODD 7.1 on log-scaled
   iss #290: The VISAT navigation window cropped left and right or top and bottom of
             its overview image depending on the aspect ratio of the source image.
             The problem occurred only with high-resolution source images such as
             images of MERIS and AATSR full orbit, MERIS FR, and ASAR products.
             However, this was a pure display problem and did not impact functionality
             or accuracy in any way.
   iss #289: The navigation window now also updates its overview image if the source
             image changes.
   iss #015: Search in VISAT help showed empty pages
   iss #162: Problems with map-projections for very small output regions (huge pixel size)
   iss #110: VISAT Spectrum Window did not snap to pins anymore
   iss #142: Unhandeled exception occurred during opening an arithmetic band with
             invalid expression.
   iss #220: ROI is now restored again after image view is re-opened
   iss #245: Import ROI definitions did not recognize shapes anymore
   iss #280: Map-projected products with 180 degree meridian now correctly handled
             concerning graticule overlay and pins

   iss #288: Processor plug-ins now correctly take over the currently selected
             product from VISAT as default value for their input product
   iss #127: Console progress monitor of processors did not work anymore due to API changes
   iss #155: In the L3 Binning Processor an unhandled exeption occurred if run with
             mixed up min. and max. latitude or longitude.
   iss #287  An error in the L3 binning algorithm calculates wrong results for MLE
             algorithm with a weight coefficient other than p=0.5.
   iss #153: In the L3 Binning Processor an unhandled exeption occurred if run with
             an incorrect bitmask expression.
   iss #???: The L3 Initial Processor now checks for overwriting of an already
             existing bin database.
   iss #???: SMAC-Processor now checks for positive horizontal visibility
   iss #???: SMAC-Processor now tests the input product for correct type when selected from GUI.
   iss #???: SMAC-Processor now uses solar fluxes read from GADS of MERIS l1b input product.

_____________________________________________________________________________

 Changes from 2.3 to 3.0
_____________________________________________________________________________

1) VISAT Image Navigation & Display Enhancements
   o New Navigation Tool Window: This important tool window replaces the
     magnifier and panner mini-windows which where used in former versions to
     scroll and zoom images. Besides many useful features many users will
     appreciate the option to synchronize zooming and panning of multiple views
     of spatially compatible data products.
   o New Zoom- and Panner Tools: In addition to the navigation window, standard
     zooming and panning can also be done using the mouse.
   o New image scroll bars, Zoom all: All image views now have scroll bars.
     If both scroll bars are visible, a tiny "Zoom all" button is now available
     which scales the image to fit the entire window (limited by the minimal
     zoom factor).
   o Open multiple views per band: Multiple views of any any band can be displayed
     by using "View" -> "Open Image View" multiple times. Double clicking a band
     does not open multiple views. With multiple views it is possible to view an
     overview in one window and a zoomed detail in another window.
   o ROI definition Window, new "Zoom to": The ROI definition dialogue has got a
     new funtion "zoom to ROI" (magnifier icon) which causes the image view to be
     panned to the ROI.
   o Pin Manager Window, new "Zoom to": The Pin Manager dialogue has got a new
     funtion "zoom to ROI" (magnifier icon) which causes the image view to be
     panned to the selected Pin.
   o Redesign of image display: Overall imaging performance has significantly been
     improved and image/graphic display has completely been redesigned and now internally
     uses a multi-layer model. The VISAT preferences dialog reflects the layer architecture
     by providing a property page for each graphic layer.
   o New image interpolation methods: The interpolation method for the image display
     can be changed in the preferences: either nearest neighbour, bi-linear or bi-cubic.
     This effects the only the display of images when zoomed in or out.
   o Improved graticule overlay: The graticule overlay has been re-implemented to
     be more robust for large products (e.g. AATSR orbits) or those extending over
     the day-line. Several new options for the graticule have been added in the
     preferences dialogue.

2) Mosaic Processor
   o A new Level 3 processor has been added. The main intention of the Mosaic
     Processor is to provide an alternative sampling algorithm that is able to
     create Moir-free images. Especially when the pixel size of the input product(s)
     and the bin size ofthe target L3 product are of the same order of magnitude,
     the Mosaic Processor yields good results.
   o The generated L3 products are well suited for the production of images (e.g. RGB
     compositions). To provide as much as possible flexibility, the Mosaic Processor
     allows the use of any number of bands for the L3 product, the creation of virtual
     bands, the definition of criteria that include and exclude pixels with certain
     properties by using expressions.
   o The Mosaic processor includes several operation modes. Some of these are not
     accessible through the graphical user interface but through the Processing
     Request File. Please refer to the on-line documentation for details (Section
     Processing Request Concept).

3) VISAT UI Improvements
   o The product info and pixel info tabs on the left of the VISAT main frame
     are now composed of floatable internal tool windows. You can now
     float the geo-location window and switch back to the product tab.
   o Former VISAT versions used a scrollable desktop pane which contained
     the metadata and image views. Now we used a tabbed desktop pane
     without scrollbars. The views have their own scrollbars instead.
   o The "window" menu now contains new usefull window arrangement/tiling
     methods

4) Other BEAM 3.0 Improvements and Changes
   o Image Export as GeoTIFF:
     The displayed image can be exported as GeoTiff (Tiff with geo-location).
     This function is available via "File" -> "Export ..." -> "Export displayed
     image" -> set "File Type" to GeoTiff, or on the right mouse button when
     the mouse is over an image view ("Export displayed image")
   o "Export Metadata" to clipboard and file:
     This is a new command which lets a user copy the content of a metadata
     view to the clipboard or a file. It is available either from the "File" ->
     "Export" or the right mouse button when over a meta data view.
   o "Export Transect Pixels" to clipboard and file:
     When a shape has been drawn the pixel values of all bands along a transect
     can be exported to a file or the clipboard using "File" -> "Export" or the
     right mouse button. The export is done in the same format as for
     "Export ROI pixels".
   o Spatial product subsets are now also applied to the associated tie-point
     grid datasets. In former versions, the tie point grid data has been left
     untouched, only pixel offsets have been adapted to reflect the spatial
     subset. Especially verly large product subsets will profite from this
     improvement.
   o Sequentially appearing progress monitors have been replaced by a
     single progress monitor showing progress on two simultaneously
     displayed progress bars.
   o The lower resolution limit of the Level 3 processor is lowered to
     1 m so that also high resolution satellite products can be processed.
     Additionally, the estimated size of the final Level 3 product is
     updated in the user interface to give feedback about the expected
     processing times and storage requirements.
   o The BEAM/DIMAP format Version 1.4.1 now supports sensing start/stop time
     of the first/last scan line in a scene raster.
   o BEAM 3.0 uses the JRE (Java Runtime Environment) 1.4.2 again. The bottle
     necks concerning imaging performance using 1.4.2 have been removed.
   o VISAT's tiny panner and magnifier windows which appeared in an image view
     have been dismissed in favour of the new Navigation Window
   o The layer properties from VISAT's preferences dialog are now assigned to
     the current view only. The layer properties for a new view is obtained from
     the current VISAT preferences.

6) BEAM API changes
   o IMPORTANT: Make sure to recompile your BEAM programs and VISAT plug-ins a
     against the new 3.0 version of $BEAM_HOME$/lib/beam.jar:
     Many methods of the BEAM API have been deprecated and many
     API changes affect the org.esa.beam.visat.VisatApp interface due
     to the new user interface.
   o org.esa.framework.ui.ImageDisplay now inhertits from the new,
     and very common com.bc.swing.GraphicsPane. This component stores
     the scene defining graphical objects in separate layers, namely the
     com.bc.layer.LayerModel. A separate view model allows to define
     the currently visible area of the scene. The layer model is
     com.bc.layer.LayerModel.
   o BEAM now uses the new framework com.bc.progress to allow for
     observation of nested processes. All other progress listener
     interfaces used formerly are now deprecated.
   o The org.esa.beam.beam.framework.util.SystemUtils now returns a correctly
     formatted path to the BEAM home directory also on Linux/Unix operating
     systems.

7) Bugfixes
   o ENVISAT ASAR geo-location accuracy has significantly been improved.
   o ENVISAT ASAR products often contain optional datasets. Such datasets are
     described by a DSD within a product but have no associated ADS or MDS.
     BEAM raised an IndexOutOfBoundsException when such products were opened.
   o A deleted shape is really deleted now and not shown again. A ROI created
     from a shape is not influenced by the shape's deletion.
   o A scaling error in the contrast stretch dialog occasionally raised
     exceptions when displaying histograms with extreme peeks.
   o When processing high resolution products with the Level 3 processor, the
     processor sometimes hangs. This behaviour is fixed. Also, the memory usage
     is significantly lowered.
   o In the SMAC processor, it was possible to set invalid values for the
     horizontal visibility leading to unpredictable behaviour. The validity
     range is now bound.
   o If a write-protected BEAM/DIMAP product has been opened and modified with
     VISAT, a consecutive save caused VISAT to hang. The 'save' command now
     prompts a warning dialog which tells the user, that the opened product is
     write protected and can not be saved unless the user removes the write
     protection. Otherwise the 'saveAs' command must be used.
   o A bug in the BEAM logging facilities is fixed that caused the creation
     of a ghost directory on any usage of the BEAM JavaAPI. When using the
     beam.jar in your own programs a "log" directory was automatically and
     unintentionally created by BEAM in the users home directory (Linux/Unix
     only).
_____________________________________________________________________________

 Changes from 2.2 to 2.3
_____________________________________________________________________________

BEAM Extensions

1) MERIS Product Reader Extensions
   o Added support for the new MERIS RR/FR Level 2 product format. Backward
     compatibility with older formats is ensured. The new product changes are
     a) the band "aero_epsilon" has been replaced by "aero_alpha".
     b) new flags and corresponding bitmask definitions have been added:
         BLUE_AERO  - Aerosol with high Angstrom Exponent selected for atmosphere correction
         BPAC_ON    - Bright Pixels Atm. Correction activated (water)
         LOW_SUN    - Sun low above horizon (or conversely high Sun zenith angle)
     c) The DDV flag is now exclusively evaluated above land (LAND=true)
   o MERIS Level 2 products now have new composed quality bitmasks: For
     all bands of a Level 2 product an explicite "invalid" bitmask has been added.
   o MERIS Level 2 bands are now automatically displayed with important bitmasks
     overlays initially visible.
   o The unit of the MERIS Level 2 Photosynthetically Active Radiation (photosyn_rad)
     has changed from myEinstein / (m^2) to myEinstein / (m^2 * s)
   o The ENVISAT Product Reader API for C and IDL has also been updated to version
     2.0.4 in order to reflect the latest format changes.

2) Optimized Support for Large Files / Low Memory
   o VISAT now can perform some more operations on product data without actually loading
     data from a product file into memory and keeping it there. This allows for working with
     large product files even if the computer is low in memory. The operations are:
     a) Statistics, Histogram, Scatter Plot, Profile Plot, and Transect Coordinate List.
     b) Opening single band and RGB images
   o In order to control loading of raster data for image creation we have added a new
     option in the behaviour page of the preferences dialog. It's label is
     "On image open, load raster data only if size is below" and the value is the number
     of megabytes a raster can have so that it is completely loaded into memory. If you
     set this value to zero, VISAT will never load and store raster data in memory for image
     creation.

3) Map Projection Extensions
   o Two new types of map projections are now supported: "Lambert Conformal Conic" and
     general "Transverse Mercator".
   o The projection tool has been extended by the dialog "Projection Parameters" in order
     to parameterise the new projection types.

4) VISAT ROI Extensions
   o The "File/Export" menu now contains a new command "Export ROI Pixels" which
     can be used to export the values of all pixels contained in a ROI either to
     the clipboard or a text file.
   o The "Analysis" menu now contains a new command "Compute ROI Area" which
     can be used to compute the ROI area in sqare kilometers.
   o The ROI Definition Window now contains a new command "Assign ROI to other products"
     which is used to transfer the ROI to other open products. ROI shapes are
     automatically transformed into the satellite coordinate spaces of the target
     products.

5) Other 2.3 changes
   o BEAM 2.3 now uses the JRE (Java Runtime Environment) 1.4.1 again.
     For some reason the JRE 1.4.2, which was used by BEAM 2.2, shows poorer
     imaging performance, especially if multiple images have been opened in VISAT.
   o The "File/Export/Export Displayed Image" command now can either export the
     entire image (as before) or just the currently visible clipping. Furthermore
     all overlays e.g. graticule, pins, bitmasks, ROIs are exported too.
   o VISAT's contrast stretch / color palette tool is now supported by a couple
     of predefined color palettes. They are stored in
     <BEAM-install-dir>/auxdata/color_palettes. The import/export file choosers
     in the contrast stretch / color palette dialog now use this folder by default.
   o A new setting in the VISAT preferences dialog now controls VISAT's
     "product-compatibility-check".
     This check is performed by the band arithmetic tool in order to decide which
     bands from which products can be used as data source in a band arithmetic
     expression. The setting label is "Consider products as compatible, if geo-locations
     differs less than" and can be found in the product setting page in the
     preferences dialog.
   o The pixel info view now also displays map coordinates in map units if a projection
     has been applied to the product. If applicable, map coordinates are now also considered
     by the "Copy pixel info to clipboard" command.
   o While performing the "Open RGB image" command VISAT now asks uses to select RGB
     bands if it cannot find a suitable predefined RGB profile.
   o For ENVISAT products, the properties tab in the statistics dialog now displays
     the actual sensing start and stop time for the product.
   o All processors now store the last directory the user has visited using the file
     selection boxes of the processor user interfaces.
   o In the main menu, the "Data" item has been renamed to "Analysis"

The important BEAM fixes are:

1) Map projections and graticule display now behave correctly if a product's scene boundary
   overlaps the 180 degree meridian. Older VISAT versions computed a wrong geographic
   extension in such cases.
   For developers: bug has been fixed in org.esa.beam.framework.datamodel.TiePointGeoCoding
2) Date/time values are now displayed correctly in metadata views. There has been
   an error of up to 10 minutes before. The bug applies to the display only, actual date/time
   data was correct.
   For developers: bug has been fixed in org.esa.beam.framework.datamodel.ProductData.UTC.getAsDate
3) BEAM plug-ins have not always been found in the extensions directory.
   VISAT displayed an error message in its log file in this case.
   Under Windows, this happened when the path to the extensions directory contained
   one or more blanks. Under UNIX, sometimes a wrong path has been assembled.
   For developers: bug has been fixed in org.esa.beam.util.SystemUtils.getBeamExtensionDirectory
4) The product map projection module computed inaccurate pixel positions for a given
   geographical position, due to a mathematical rounding error in the projection algorithm.
   For developers: Math.round was used instead of the correct of Math.floor method to identify
   the correct pixel index in the source product. Refer to implementation of method
   org.esa.beam.framework.dataio.ProductProjectionBuilder.readBandRasterData
5) An ArrayIndexOutOfBounds occurred when using the bitmask reading method
   with a boolean buffer not exactly matching the requested width and height to be read.
   This also happened when the buffer was bigger than the requested data size.
   For developers: bug has been fixed in org.esa.beam.framework.datamodel.Product.readBitmask
6) Several display problems fixed in dialog "Analysis/Histogram" and "Analysis/Scatterplot".
7) The dialog "Analysis/Transect Profile Data" displayed inaccurate pixel positions (x=12.5 y=4.5)
   became (x=13 y=5). This has been fixed.
8) A ROI definition including a value range also included pixels into a ROI which where masked invalid
   by default. This affected only bands with a default "valid-mask" set, such as all MERIS L2 bands.
   For developers: bug has been fixed in org.esa.beam.framework.datamodel.RasterDataNode.createROIImage
9) In the contrast stretch / color palette window the outer sliders of the color palette often could
   not be moved properly.
10) MODIS products can now be opened even if the file name does not meet MODIS naming conventions
    and even if external geolocation information is missing
11) Fixed several misconducts of user interface of the BEAM processing tools, e.g. wrong progress
    display. When invoked from VISAT, processing tools now do not overwrite products already opened
    in VISAT anymore.
12) VISAT now correctly (yes!) prints debugging information into the log file if selected in the
    preferences dialog.


BEAM Java API changes:

1) The org.esa.beam.framework.dataop.maptransf package has been partly redesigned in order
   to support generic user interfaces for map transformation parameters.

2) The class org.esa.beam.Product now supports the properties "sceneRasterStartTime"
   and "sceneRasterStopTime" which returns the actual sensing start and stop date/time
   for the data raster.

3) The org.esa.beam.framework.datamodel.DataNode.setDataElems method now creates an
   internal ProductData object if none has been previously assigned to the DataNode instance.

4) The org.esa.beam.framework.datamodel.TiePointGeoCoding has a new public method
   "getNonAproximatePixelPos" which returns the exact pixel position for a given
   lat/lon value. However, this method performs several times slower than "getPixelPos".

5) Methods in org.esa.beam.framework.datamodel.RasterDataNode with names of the form
   "compute<X>" required to have the complete raster data loaded into memory. This is now
   no longer required, instead these methods reload data as needed. Therefore they also
   throw java.io.IOExceptions now in order to signal I/O errors.

6) Many other methods in org.esa.beam.framework.datamodel.RasterDataNode now throw a
   java.io.IOException, which was either internally suppressed before or not required because
   they expected raster data to be loaded completely.

7) class BandArithmetic has been deprecated. Use
   org.esa.beam.framework.datamodel.AbstractBand.computeBand instead.

8) The VISAT API (org.esa.beam.visat.VisatApp) has been extended by many more getter
   methods in order to better support VISAT plug-in developers. The new getter methods are:
        public VisatPlugInManager getPlugInManager();
        public Tool getActiveTool();
        public VisatPreferencesDialog getPreferencesDialog();
        public JTabbedPane getBrowserPane();
        public JScrollableDesktopPane getDesktopPane();
        public StatusBar getStatusBar();
        public JToolBar getMainToolBar();
        public File getUserHomeDir();
        public File getPreferencesFile();
        public Logger getLogger();

_____________________________________________________________________________

 Changes from 2.1.1 to 2.2
_____________________________________________________________________________

New BEAM 2.2 Features

1) New MODIS Product Reader
   o A subset of available MODIS products can now be imported in the BEAM
     software. The reader supports Terra and Aqua platform Level 1b and
     Level 2 Ocean products.
   o The majority of VISAT functions will also work for imported MODIS
     products, however the MODIS Bow-Tie Effect is left uncorrected, thus
     there are some restrictions with VISAT functions depending on
     an available product geo-location.
   o For detailed information please refer to the BEAM documentation.

2) New Map-Projection Features
   o A co-location feature has been introduced in the map-projection.
     It is now very easy to co-locate two products of same or different
     type (e.g. MERIS and AATSR, MERIS L1b and MERIS L2) so that they have
     identical geo-references and this can be used together, e.g. in the band
     arithmetic tool.
   o A new out-of-bounds value has been introduced in the map-projection
     output-parameters dialog. This value is used for output pixels which
     have no corresponding pixel in the source product.

3) New Image Contrast Stretch / Color Palette Features
   o A "Multiple Apply" function has been introduced in VISAT's contrast stretch
     window. It assigns the current constrast stretch / color palette settings
     to the visible bands of other open products.
   o It is now possible to import and export the color palette settings in VISAT's
     constrast stretch window.
   o A new auto costrast stretch function sets the visible min/max values to
     the full min/max range (auto 100%) of the underlying band.

4) New Color-Legend Export Function
   o A menu item "Export Color Legend" has been included in the context menu of
     image views. It is used to export the current color palette to an image file.
   o Multiple legend properties can be set in order to customize appearance of the
     exported legend image.
   o The legend preview can be copied into the system clipboard by using the
     centext menu item "Copy image to clipboard" in the preview dialog.

5) New ROI Definition Features
   o A "Multiple Apply" function has been introduced in VISAT's ROI definition
     window. It assigns the current ROI definition to other visible bands
     of the selected data product.
   o The ROI definition can now also consider the pixels located under the
     pins defined in the selected product.

6) Other new VISAT Features
   o The "Copy data to clipboard" function has now been implemented for all tabs
     of the statistics dialog. Herewith it is now possible to paste also the
     histogram and scatter plot data into e.g. Microsoft(R) Excel in order to
     create printable diagrams.
   o The expression editor of the band arithmetic tool now has a history function.
     VISAT automatically stores the last 100 expressions. Therefore it is now very
     easy to reuse complicated expressions entered older in VISAT sessions.
   o It is now possible to import/export multiple bitmask definitions at the same
     time in VISAT's bitmask overlay window.

7) Other VISAT Behaviour Changes/Improvements
   o Out-of-memory exceptions are now handled by a messages dialog which gives the
     user a tip how to solve the problem. For example, for large image files the
     image export tool often wrote a zero-byte image file without notifying the user.
     This happened because insufficient memory was available during the export.
   o On "Save as" a format conversion warning pops-up if the product which is to
     be saved is not a BEAM-DIMAP product. The warning says that a format conversion
     will take place which might take a while.
   o It is now possible no disable the inital visiblity of the magnifier whithin
     newly created image views. The default behaviour can be changed in VISAT's
     preferences dialog.
   o All product import file choosers now have predefined file filters. For example,
     for ENVISAT products the filter pattern is either (*.N1,*.prd) or all files (*.*)
   o The "Import Shape" command has been renamed into "Import Transect Data"
     and the default file extension is now ".txt". This has been done because some
     users thought they could import ESRI/ArcGIS Shape Files into VISAT which is
     not the case (at this time).
  o  A diligent compatibility check is now performed before new bitmask definitions
     are imported.

8) For Java Developers: A new example map-projection plug-in has been added. See
   src.zip$/org/esa/beam/examples/maptransf/ExampleProjectionPlugIn.java

Bug Fixes

 1) If product subsets have been imported, the underlying physical file was
    not accessible in the file system as long VISAT was running.
 2) Spatial subsets of map-projected files had wrong northing/easting values:
    they were just copies of the source map information). New northing/easting is
    now correctly calculated.
 3) User defined output scene size in the map-projection tool are now handled
    correctly.
 4) VISAT now fully releases virtual memory allocated by the graphic contexts
    of an image view. VISAT now also fully releases virtual memory allocated
    by closed products.
 5) Under UNIX operating systems, the BEAM extensions directory is now
    correctly identified. VISAT scans its extensions directory at start up time
    in order to load additional BEAM plug-ins.
 6) Double question dialog asking the user "Do you really want to close"
    has been reduced to a single one :-)
 7) In the contrast stretch window, the display of the histogram bins was incorrect
    for high vertical zoom levels.
 8) Histogram height settings of VISAT's contrast stretch window are now correctly
    remembered in each image view
 9) In transect data files (former "shape files", see above), the "Pixel-X" and
    "Pixel-Y" columns are not mandatory anymore if "lon" and "lat" values
    are given.
10) HDF5 export: incorrected image display range has been fixed
11) ROI Shape outline now correctly included in ROI (rectangles & circles)
12) VISAT crashed when invalid plug-ins (missing class files, invalid package names)
    have been placed in the "extensions" folder.
13) Plug-ins of type org.esa.beam.framework.dataop.maptransf.MapTransformDescriptor
    are now also correctly recognized by BEAM.
14) The cursor of the pin tool had a incorrect hot-spot (base point) on MacOS X and
    UNIX platforms.
15) Printing from VISAT Help System caused VISAT to hang
16) Spectrum view ignored the products [1+n] which have been opened before(!)
    the spectrum view window was opened. This has been fixed.
17) VISAT's contrast stretch window accidentally resetted the color palette
    settings to default grey-scale if an image view other than the selected one was
    closed.
18) If the user zoomed very deep into the histogram og VISAT's contrast stretch window
    (so that less than about 40 histogram bins were visible), the bin rectangles have been
    painted on incorrect locations.

_____________________________________________________________________________

 Changes from 2.1 to 2.1.1
_____________________________________________________________________________

Version 2.1.1 is a pure service release which fixes some severe problems of
version 2.1.0. The bug fixes are:

1) Opening BEAM-DIMAP products which have been saved with VISAT versions prior
   2.0 caused an internal error (NullPointerException). This problem occurred
   because the BEAM-DIMAP format slightly changed in order to support the
   new gamma values for RGM images.

2) The "Copy pixel info to clipboard" function was out of order for MERIS
   Level 2 and AATSR products.

3) All UNIX platforms: The scripts which are used to run the BEAM
   tools from the command-line have not been executable. This problem
   was caused by an error in the script generation during installation.

4) If a DIMAP product has been opened in VISAT, the application hangs while
   saving the modified product on exit.
   (Question dialog "Save modified product?" --> Yes).

Also some general improvements concerning VISAT behavior have been introduced:

1) When dragged, the image magnifier does not center itself at mouse cursor anymore

2) Image display information of bands such as contrast stretch ranges and color
   palette points are now copied into the corresponding bands of the output products
   of the "Map Projection", "Data Flip", "New Product (Subset)" functions.

3) The "UTM Automatic" projection has been added to the list of possible
   UTM projections. It automatically selects a suitable UTM zone
   based on the product's center coordinate.

_____________________________________________________________________________

 Changes from 2.0 to 2.1
_____________________________________________________________________________


New BEAM 2.1 Features

1) BEAM now runs on Mac OS X!

2) VISAT has some more RGB image enhancements accessible from the contrast stretch window:
   a) A gamma value can be entered for each RGB component in order to adapt the transfer function
   which quantizes (geophysical) source sample values to image sample values. For MERIS
   L1b, a gamma value of 0.7 for the blue channel yields to more realistic results.
   b) It is sometimes desirable to transform an image so that it's histogram matches that of a
   specified functional form. It is now possible to apply an equalized or normalized
   histogram matching to RGB images which can drastically improve image quality.

3) For exact geo-location, it is possible to explicitely set the reference point
   within the area of a pixel which is used to derive geolocation for a given pixel.
   Internally pixel positions are handled with drastically increased accuracy.
   The reference point and the pixel display type can be set in VISAT's preferences
   dialog.

4) BEAM-DIMAP format update:
   Added gamma value image information for bands.
   Added a valid-mask term for bands. The valid-mask is a bitmask expression used to identify
   whether a pixel of a band is valid or not.
   Added missing scaling factor and offset for a band to ENVI compatible header files.

5) The command line tool "pconvert" can now also apply histogram stretching to greyscale and
   RGB images. Please consult the usage page of pconvert (pconvert --help).

6) In the case of a processing failure, all processors now display a more detailed
   error report derived from the processor's log file.


Bug fixes

1) Some of the new (as of IODD 6) MERIS level flags have been mistakenly interchanged
   in the pixel info.
   The following flag pairs were affected: CASE2_ANOM and TOAVI_BRIGHT, CASE2_Y and TOAVI_BAD,
   ICE_HAZE and TOAVI_CSI, MEDIUM_GLINT and TOAVI_WS, HIGH_GLINT and TOAVI_INVAL_REC.

2) The Transverse_Mercator projection computed a slightly wrong y value (0% - 6% depending on
   the order of magnitude of the latitude).

3) If an RGB image was created from a map-projected product, VISAT showed a flickering
   progress bar which consumed a lot of processing power and caused VISAT to hang.

4) The Java source code examples (NDVI processors) now run correctly without any error messages.

5) "pconvert" now correctly creates RGB images again.

6) Geophysical bands of MERIS RRC products are now handled correctly.

7) VISAT fails to export very large images (e.g. full ASAR scenes) due to an internal
   out-of-memory error. To avaoid this behaviour the VM option Xmx should be used to
   assign more memory to VISAT as described in the FAQ on the BEAM web site.

8) The color sliders in VISAT's contrast stretch window will not fall over another again.

9) Changed physical unit of MERIS L2 total suspended matter to g/m^3, which has
   mistakenly been mg/m^3.

_____________________________________________________________________________

 Changes from 1.1 to 2.0
_____________________________________________________________________________

New BEAM 2.0 Features:

1) MERIS Smile Correction Tool: A processor which performs a correction of the
   "smile effect" for MERIS L1b radiances.
2) VISAT Virtual Band Support: New bands can now be created based on an
   arbitrary mathematical band expressions.
3) VISAT RGB Image Support: The source of each of the three RGB channels can
   be any band in a product, even a virtual band. Constrast stretching is
   possible for each of the RGB channels also changing the source. Default
   RGB sources can be edited in the preferences dialog.
4) VISAT Pin Support: A pin is a marker for a certain geographical position.
   Pins can be set anywhere within the geographical boundary of a product.
   A pin manager window allows for pin selection, export and import. The spectrum
   window and the pixel info view can now be fixed to a selected pin.
5) VISAT World Map: A window which displays the geographical boundaries of all open
   products in world map image.
6) Support for ENVISAT Child Products has been added.
7) For high quality RGB output, "pconvert" tool can now also process mathematical
   band expressions as source for each RGB channel

Software Optimizations

1)  A product saved in BEAM-DIMAP format now require significantly less storage
    size.
2)  Reading from and writing to products in BEAM-DIMAP format is now around two
    times faster.
3)  ENVISAT products now requires significantly less heap space when opened in
    VISAT.
4)  VISAT image generation has been significantly accellerated.
5)  Images generated from ENVISAT tie point grids now display in half of the time.
6)  ENVISAT flag datasets can now also be displayed as images.

Bug Fixes

1) Provided support for ENVISAT child products
2) FLH processor band presets corrected from 7,8,9 to 6,7,8.
3) Band arithmetic produces a NullPointerException if bands
   whose data internally stored in integer arrays have been used
   within an expression.
4) In VISAT, Product "Properties" and "Geo Coding Information" can now be opened
   without the need to open an image view.
5) Missing help page for "Geo Coding Information" has been added.

Other Changes

1) When creating a product subset a history metadata element is now created in the new product
2) "save product history" option added to Data I/O page in VISAT preferences dialog
3) The VISAT plug-in directory "ext" has been renamed to "extensions"
4) Logging now makes use of the Java 1.4 java.util.logging API. Log files are now
    written to $BEAM-INSTAL-DIR$/log
5) BEAM-DIMAP Product Format Updates:
    - Version 1.1.0 added support for band attributes "scalingFactor", "scalingOffset" and "log10Scaled"
    - Version 1.1.1 added support for virtual bands
    - Version 1.1.2 added support for the "cyclic" attribute of tie point grids (i.e. longitude)
6) New VISAT resource bundle entry "popup menu text" added.
    "Place before" and "place after" are now fully supported.
7) The Java API has been improved and many classes/methods have been renamed.
   Major changes include
    - Library file name "matbx.jar" --> "beam.jar"
    - Package "matbx" --> "org.esa.beam"
    - Interface GeoCoding, method parameters: Point --> PixelPos
    - Class ProductData: get<Type>Elem --> getElem<Type>,
                         set<Type>Elem --> setElem<Type>
    - Class RasterDataNode: get<Type>Pixel --> getPixel<Type>,
                            set<Type>Pixel --> setPixel<Type>
    - Class Band (is a RasterDataNode):
       IMPORTANT: bands can now hold raster data as "counts" (e.g unsigned byte insted of float).
                  The actual geophysical value is computed by a linear or log-linear scaling. See
                  get/setScalingFactor, get/setScalingOffset, is/setLogScaled, isScalingApplied.
       IMPORTANT: getDataType now returns the data type of the band's "counts".
                  Use getGeophysicalDataType instead in order to determine the actual (or "natural")
                  type of the raster data samples.
    - Class BandDisplayInfo.BasicDisplayInfo --> ImageInfo
    - Class BandDisplayInfo.ROIDefinition --> ROIDefinition
    - Class BandDisplayInfo.BitmaskOverlayInfo --> BitmaskOverlayInfo
    - Class ROI --> ROIDefinitionVPI (the VISAT plug-in)
    - Class Processor: createUi --> createUI
                       getUiTitle --> getUITitle
                       log<X>  --> removed
                       process<X> --> fireProcess<X>
    - Class ImageFactory has been removed
      ImageFactory.create<X>Image() --> org.esa.beam.utils.ProductUtils.createRgbImage(Product p),
    - Class AbstractScientificToolPlugIn --> AbstractProcessorPlugIn
8) The ENVISAT Product Reader API for C and IDL (epr_c_api / epr_idl_api) have been removed from the main BEAM
   installer. They are provided as a separate download now.

_____________________________________________________________________________

 Changes from 1.0 to 1.1
_____________________________________________________________________________

IMPORTANT NOTE:

   The ENVISAT MERIS Level 1b product format has slightly changed. The
   'spectral shift index' has been replaced by a 'detector index' according
   to IODD 6.0 (PO-TN-MEL-GS-0003).
   The older format is still supported by all BEAM tools.

New Features

  1) New VISAT Spectrum Tool:
     Following many requests by users, we've added a spectrum tool to VISAT.
     The spectrum tool displayes the spectrum at a given pixel position.
     When the user moves the mouse over an image display, the spectrum display is
     immediately updated.
     The spectrum is read from the spectral bands of a product and
     works with ENVISAT MERIS L1b/L2 and AATSR L1b products.

  2) Optimized VISAT BEAM-DIMAP Storage:
     a) Once a product has been opened or saved as BEAM-DIMAP, VISAT now only
     writes modified bands to disk if the user saves the product again. The
     incremental save mode can be disabled in the preferences dialog.
     b) By default, ADS datasets from raw ENVISAT are not stored in the DIMAP
     XML header anymore. An option in the preferences dialog allows to change
     this behaviour.
     c) The in-memory representation of BEAM-DIMAP products requires
     significantly less heap space.

  3) Improved VISAT Map Projections:
     The output parameters in the map projection dialog now allow to specify
     the width and height in pixels of the output image. Hereby it is now
     possible to co-locate MERIS and AATSR products covering the same
     geographical regions.
     Formerly, width and height have automatically been selected in order to fit
     the complete scene in the output product. However, the auto-mode ist still
     available.

  4) Improved VISAT Pixel Info View:
     The pixel info view now can display the geo-physical values of all bands of a
     product, whether they are loaded or not. The preferences dialog allows to
     toggle the display of all or only the loaded bands.

  5) Improved FLH/MCI Processor:
     The FLH/MCI Processor now has an additional processing parameter. A
     cloud correction factor K now allows for reducing the effect of thin cloud.
     The formula we now use for FLH is:
         FLH = b8 - K * (b7 + (b9 - b7) * 16.262 / 43.786)
     where b7, b8 and b9 are the radiances or reflectances at 664.64, 680.902 and
     708.426 nm. The background is that (personal communication with Jim Gower:
        'If we use K=1, then FLH increases as radiance rises in thin cloud.
         We correct this using K=1.005.  This is what I mean by "reducing the effect
         of thin cloud."  We then find a mask at band 7 level 1 at about 50 radiance
         units gives a good picture. Using the same formula on level 2 reflectance
         data requires a mask at about .017 reflectance in band 7.')

Fixes

  1) VISAT now physically removes band data from the disk after a band has been
     removed.

  2) ENVISAT AATSR geo-coding & tie-point data have not been displayed correctly,
     because an across-track pixel shift was mis-interpreted.

  3) The FLH/MCI tool produced FLH values with an inverse sign.

  4) The binning tool continued processing with the next step although
     the user pressed the 'Cancel' button.

  5) The geo-location for ATSR products is now displayed correctly.

  6) Fixed a minor bug in tie point interpolation (affects only negative pixel indexes)

  7) Save (BEAM-DIMAP) product: A product description string is now available for ENVISAT
     products and stored in BEAM-DIMAP format.

  8) Command-line scripts: The UNIX bin/*-console.sh scripts contained a bad CLASSPATH:
     semicola have been used as path separators instead of the colon character.

  9) Image-export: After an image has been exported by VISAT, the image file was not closed
     and therefore unaccessible for other applications while VISAT was running.

 10) Debug-messages are now correctly written to the log file if this option has been
     enabled in the preferences dialog

 11) Open (BEAM-DIMAP) product:  Fixed a bug which occurred if XML attribute values in
     the DIMAP header contained special characters. They are now correctly encoded
     using XML entities (&amp; &lt; &gt; ...)

 12) Transect Co-ordinate List: pixel values are not rounded anymore

 13) Histogram, ScatterPlot, ProfilePlot: diagram labels are now rounded to
     a number of digits appropriate for the current value range.

____________________________________________________________________________

 Changes from 1.0 PR-3 to 1.0
_____________________________________________________________________________

NOTE: The overall project name changed. BEAM is now BEAM - Basic ENVISAT
Toolbox for (A)ATSR and MERIS.

VISAT Improvements and Changes

    1) VISAT Help has been completed.

    2) Bitmask definitions now also can have a description text which is
       stored in the BEAM-DIMAP header. The description is displayed as
       tool-tip text when the user moves the mouse over the list within the
       bitmask overlay window. VISAT now also uses reasonable descriptions
       for the default bitmask definitions.

    3) If a 'compatible bitmask' of another product has been used for a selected
       product, it now automatically becomes a bitmask of the selected product
       and as such it is stored in the BEAM-DIMAP header.

    4) Map projection changes:
         o  The Gauss-Krger map projections have been taken away, since we
            currently only support the WGS-84 ellipsoid (and datum) and by
            definition, the Gauss-Krger projection uses the Bessel ellipsoid.
         o  The UTM zones for the southern hemisphere have benn added.
         o  Map projection performance has been improved. Whenever possible,
            VISAT now uses a pair of polynomial approximation functions to
            retrieve a pixel's X and Y co-ordinates for a given lat,lon point
            as long as the product scene is in satellite co-ordinates (which
            is always the case for raw MERIS and ungridded AATSR data). The
            polynoms used can be inspected as ANSI-C code in the "Data" menu
            under "Geo-Coding Information..."

    5) VISAT's  "Open" and "Save as" file chooser dialog have been improved:
         o  The BEAM-DIMAP data directories do not appear anymore in the
            file list
         o  Both dialogs now also independently store the last directory the
            user visited.
         o  In both file chooser dialogs, the filename field was cleared if
            the user changed to another directory or the directory name
            appeared mistakenly. This behaviour has been supressed.

    6) The product "Close" command is now also available in context menus
       popped up over the open product's tree view.

    7) VISAT now warns the user on low memory conditions. The low memory
       limit in megabytes can be modified in VISAT's preferences dialog.

VISAT Bug Fixes

    1) When a band has been deleted, the tool commands map projection, band arithmetic
       and data flip threw a NullPointerException. Fixed.

    2) All UTM map projections had their center meridian in Greenwich (at
       zero degree) independently of their zone. Fixed.

    3) For tie-point grids, the histogram in the contrast stretch dialog was
       computed from the entire tie-point dataset although the product was
       a spatial subset of another product. Fixed.

    4) In ENVISAT metadata tables, the UTC start time display of a record was
       wrong. The time is now displayed correctly using the ISO-8601 format.

    5) Contrast stretching was sometimes impossible due to very narrow value
       ranges (e.g. reflectances above ocean, 1E-5 to 1E-6).

'pconv' Tool Improvements

    1) 'pconv' now is called 'pconvert' (yes, this is an improvement)

    2) An option (-r or --max-res) to limit output resolution in pixels has
       been added. Please refer to pconvert-readme.txt in your installation
       directory.

    3) 'pconv' can now also generate greyscale images from an arbitrary band.

_____________________________________________________________________________

 Changes from 1.0 PR-2 to 1.0 PR-3
_____________________________________________________________________________

IMPORTANT NOTE FOR ALL BETA-TESTERS:

     The BEAM-DIMAP format changed again! This time due to a spelling mistake.
     The tag name "Coordinate_Reference_System" was mistakenly spelled
     "Coordinate_Reference_Systsem". Older BEAM-DIMAP products will have no
     geo-coding information in this version, because the wrong, old tag
     name is not considered anymore. If you want to keep the geo-location
     information, open the BEAM-DIMAP header in a text or XML editor and
     rename all occurences of the old tag name.

Bug Fixes

  The migration to the J2SDK 1.4 caused some GUI problems with 1.3.1 based
  code.

  1) The code responsible for user-input validation did not function anymore
     with JDK 1.4 because of Swing's new underlying focus architecture. If a
     user entered an invalid number or text, the application got stuck due to
     an infinite focus-lost/focus-gained loop. This problem concerned VISAT
     and all BEAM processors.

  2) Popup-menus were sometimes hidden by the top-most window which was
     particularly very annoying in combination with the contrast stretch
     dialog.

  3) Map projections have not been saved correctly in the BEAM-DIMAP header,
     all projections have been mistakenly interpreted as 'Geographic Lat/Lon'
     projection. BEAM-DIMAP now writes and reads projections correctly.

  4) When using Windows UNC networkpaths, the BEAM-DIMAP XML header could not
     read and written, because of an I/O exception. The error message was
     'Connection refused'. This problem has been solved.

  5) BEAM-DIMAP now uses ISO-8859-1 character encoding instead of UTF-8.
     With UTF-8 it was not possible to re-open BEAM-DIMAP header containing
     special characters, such as german umlauts.

_____________________________________________________________________________

 Changes from 1.0 PR to 1.0 PR-2
_____________________________________________________________________________

IMPORTANT NOTE FOR ALL BETA-TESTERS:

  The BEAM-DIMAP format changed. It's true, products written with older Processor or
  VISAT versions can still be read, but meta-data string values will appear as
  comma-separated byte lists. The reason for this is that the old BEAM-DIMAP product
  writer module wrote meta-data string values as comma-separated byte lists to
  the BEAM-DIMAP XML-header by mistake. Of course, this drastically expanded the XML
  file size. In version 1.0, the writer module directly and correctly writes the
  string values as pure text.
  Note that you can directly edit the BEAM-DIMAP header:
     1. Open the concerning product's BEAM-DIMAP header (*.dim) in a text or XML editor.
     2. Then visit each occurence of MDATTR elements with the type="ascii" attribute.
        For example:  <MDATTR name="Algorithm" type="ascii">77,97,120,105, ... </MDATTR>
     3. Delete the complete element, or replace the byte list value, either by
        nothing or an appropriate value (if available)
        For example:  <MDATTR name="Algorithm" type="ascii">Unknown</MDATTR>

VISAT Changes

    1) The band arithmetic dialog has been improved:
        o user defined arithmetic exception handling
        o process monitoring

    2) The transverse mercator map transformation has been implemented.
       We have added some projections using this transformation. They are
        o Gauss Krueger Zone 2 to 5
        o UTM Zone 1 to 60

    3) It is now possible to create spatial subsets also from geo-referenced
       (map-projected) products.

    4) Dataset flipping is now also possible for data products without
       any attached geo-coding information.

    5) A new prefences setting has been introduced: auto-unload on/off

    6) The preferences dialog now contains two more graticule settings:
       the max. num of parallels and meridians.

    7) Although VISAT does not support direct editing of product nodes, such
       as bands, tie-point grids or meta-data, we included a 'delete' operation
       especially for bands in order to be able to remove bands that were
       mistankenly created by the band arithmetic tool.

    8) In the data menu, a new item 'Geo-Coding Information' has been
       added which provides the user with very detailed geo-coding information.

VISAT Bug Fixes

    1) In the product subset dialog a null pointer exception occcured
       when the dialog was closed before the thumbnail was completely loaded.

    2) Although a subset was selected, VISAT asked the user whether
       or not to build a subset, in cases where the total product size exceeded
       the (user-defined, see preferences dialog) maximum value.

    3) The BEAM-DIMAP product reader and writer have not considered a data product's
       description string.

    4) A thread synchronizing problem has been solved which occurred if a band was
       double clicked while another one was already being loaded.

    5) The HDF-5 export failed if a product contained empty meta-data attributes.
       Actually, this is a problem in the NCSA HDF-5 Java Library. A workaround has
       been provided: empty or null-value attributes are not written at all.

    6) The new bands computed by the band arithmetic tool showed a one-pixel
       (horizontal) shift to the right. Fixed.

    7) If the band arithmetic tool used
         o multiple input bands in an expression
         o and the bands originated from a map transformed product
         o and the band's pixels were processed on-the-fly (without being entirely loaded)
       then all band's pixel values seemed to have then same value. Fixed.

    8) When the graticule lat/lon resolution
         o was set to, for example 0.5 degree,
         o and then a global coverage binned product was displayed
         o and the graticule overlay turned on,
       then VISAT freezed due to pure Java 2D performance. The problem was fixed by the
       introduction of maximum parallel/meridian numbers.

    8) On exit, VISAT now asks the user whether or not new or modified products shall
       first be saved.

Java API Changes

    1) Added the boolean 'synthetic' property to the
       org.esa.beam.framework.datamodel.DataNode class. For example,
       a org.esa.beam.framework.datamodel.Band created by the
       band arithmetic module is syntetic.

_____________________________________________________________________________

 Changes from 0.8.4 to 1.0 PR
_____________________________________________________________________________

Important VISAT Changes

  1) New data manipulation features implemented
       o Band arithmetic
       o Map projection (only Geographic Lat/Lon so far)
       o Data Flip (horizontally, vertically & both)

  2) "New Product" command added

  3) New readers have been implemented for
       o ENVISAT ASAR IM*, AP* and WS* Level 1 data products
       o ERS 1/2 ATSR GBT and GSST data products


  4) IMPORTANT: Some ENVISAT band names have changed:
     In MERIS Level 1b Products
       o  "flags"         --> "l1_flags"
     In MERIS Level 2 Products
       o  "refectance_11" --> "refectance_12"
       o  "refectance_12" --> "refectance_13"
       o  "refectance_13" --> "refectance_14"
       o  "flags"         --> "l2_flags"

Bug Fixes

  1) For multiple record datasets, the VISAT metadata view always
     displayed the data of the last record of the dataset. This
     problem has been fixed.

  2) Throughout the Toolbox, an incorrect initialization of minimum
     floating point values might have led to incorrect results in
     statistics calculation and contrast stretching. This behaviour
     is corrected now.
     !!! All statistics calculated with older versions
     of the toolbox are potentially incorrect when the input data contained
     negative values !!!

Java API Changes

  1) The ENVISAT raw product file access class ProductFile now also supports
     the ASAR product types ...
     and the AATSR product types ATS_AR__2P und ATS_MET_2P.

  2) Many methods in ProductFile class don't throw I/O exceptions anymore which
     were caused by internal dataset descriptor database (DDDB) access and not
     directly related to the actual product file which was opened.

Minor Changes

  1) Multiple dialogs contain small buttons which open a
     special editor for a dialog parameter (e.g. bitmask-editor,
     file or color choosers). This button contains now the standard
     "..." text instead of a tiny icon.

  2) Optimization of product description string usages (reduced memory footprint).

  3) Removed all the spare fields from the metadata display

  4) After a subset in "Product Import" has been specified,
     now the "New Product" dialog opens asking the user to
     give the product a name and a description.


_____________________________________________________________________________

 Changes from 0.8.3 to 0.8.4
_____________________________________________________________________________


Bug Fixes

  1) If an image view had very few valid pixels, which means that most of the
     samples are zero, the contrast stretch pane often "swapped" it's sliders
     and that they where not movable anymore. This problem has been fixed.

  2) Two new MERIS Level 2 bands 'rect_refl_nir' and 'rect_refl_red' are
     now correctly loaded and displayed. They had mistakenly been interpreted
     as one 'rect_refl' band.

  3) The "illegal node name" error does not appear anymore when ENVISAT
     products are saved as BEAM-DIMAP products to disk and the filename contained
     unwanted characters.

General Improvements

  1) First version of the Binning Tool (Level 3 Processor) is now available.
     It consists of four independent processors:
     a) The "Binning Tool" which enables the user to process multiple input
        products in one run.
     b) The "Binning Initialize Tool" lets the user create a bin database with
        a given set of parameters (cell size, geophysical parameter to
        process ...).
     c) The "Binning Update Tool" lets the user accumulate multiple products
        to a bin database created with the "Binning Initialize Tool".
     d) The "Binning Final Tool" enables the user to process a final L3 Product
        from an existing bin database.

  2) New HDF5 output format for data products now available in the Java API, the
     data processors and in VISAT as export function.

  3) The new 'pconv' tool has been developed.

     'pconv' is a command line tool which lets a user convert BEAM-DIMAP, ENVISAT
     (and later also ERS/ATSR) into BEAM-DIMAP, HDF5 product formats.
     The tool can also generate RGB images in the following formats: TIFF, JPEG,
     PNG and BMP.
     The tool's executable name is 'pconv.bat' for MS Windows and 'pconv.sh' for
     unix operating systems and is located under '$INSTALL_DIR$/bin/'.

     Please look into the text file $INSTALL_DIR$/PCONV-USAGE.txt for the tool's
     usage. You can also call pconv with no arguments to get same help.

  4) Deinstaller is now accessible from the system's shortcut menu

  5) File chooser dialogues now don't loose their current filename anymore if
     the user changes into and out of a directory


New VISAT Functions and Improvements

  1) 'Import BEAM-DIMAP' Product' is now available in order to import product subsets
     in BEAM-DIMAP format. It can be used to import the possible huge output products
     of the level 3 binning tool.

  2) 'Export BEAM-DIMAP' Product' is now available in order to export product subsets
     in BEAM-DIMAP format.

  3) 'Export HDF5 Product' is now available in order to export products and product subsets
     in HDF5 format.

  4) ROI Import/Export functions have been fully implemented. They are accessible
     from the two corresponding tool buttons in the ROI definition window.

  5) Users are now asked whether or not they also want to add the available
     flag datasets to the current (spectral band) subset if they have forgotten
     to do so. The reason for that is, that VISAT can not display any bitmask
     overlays without the flag datasets.

Minor Changes

  1) The executables in '$INSTALL_DIR$/bin' have been renamed in order to provide
     more consistency.

_____________________________________________________________________________

 Changes from 0.8.2 to 0.8.3
_____________________________________________________________________________

This version is not only a bug-fix release since it also introduces new
functionality.


ENVISAT Reader Changes

 1) The ENVISAT reader module was modified so that it also supports so called
    L1b and L2 'child products'. Child products are currently the only products
    deliverd to beta-testers


New VISAT Functions

 1) Scatter-Plots have been introduced.
    Accessible from the 'Data' menu.

 2) Transect co-ordinate list and profile plot have been introduced.
    Accessible from the 'Data' menu.

 3) Geometric shapes (line, polyline, rectangle, ellipse and polygon)
    can be drawn on the image and directly assigned as ROI.

 4) The shape drawing capabilities are also available from the 'ROI Definition'
    window. It offers now three ciriteria to specify a ROI: geometric shape,
    value range, bitmask. The criteria can be AND/OR combined create the
    resulting, combined ROI.

 5) The current ROI overlay can now be exported to a standard image format.
    In the ROI overlay image, pixels not belonging to the ROI have a
    black color value (RGB=0,0,0), the pixels belonging to the ROI are
    diferent from zero.
    Usage: Export the exact set of pixels considered in a ROI and therefore
           the exact set od pixels contained within a shape, a value range
           and/or a bitmask.


 6) New function 'copy pixel-info to clipboard' is now available per right
    click (context menu) over images. All information available for a pixel is
    copied to the clipboard in text format so that it can be directly inserted
    in other applications (MS-Excel for example) using the paste function.
    A shortcut for the paste function is CONTROL-V key combination on Windows and
    LINUX or the 'Paste' key on Solaris.


VISAT Improvements

 1) The 'Activate ROI' option in the ROI definition dialog has been removed since
    it is superfluous. A ROI is at least specified by the three criteria. If none
    is selected, the ROI is now per se deactivated.

 2) The image magnifier now also shows the (magnified) graticule overlay
    and ROI shapes.

 3) More toolbar buttons have been added

 4) By default, VISAT logging is now disabled.


_____________________________________________________________________________

 Changes from 0.8.1 to 0.8.2
_____________________________________________________________________________

General Processor Improvements

 1) All processors now add the original processing request as metadata to
    the output product. The metadata includes
      o input product file path
      o output product file path
      o processing parameters

SST and FLH/MCI Processor Improvements

 1) The processors now copy the
       o original MERIS flags
       o the flag codings
       o the list of bitmask definitions
    from the input product into the output product.

VISAT Improvements

 1) If a BEAM-DIMAP product was inadvertedly selected instead of an ENVISAT raw
    file (in 'Import ENVISAT Product'), VISAT now tells the user to choose
    'Open' in the file menu.

 2) The complete set of MERIS L2 flags has been overtaken into the list
    of predefined bitmasks (applies to 'Import ENVISAT Product')

 3) The subset dialog now opens quicker for large products. The thumbnail image
    is now created in the background and displayed only if it is fully loaded.

VISAT Bug-Fixes

 1) In the bitmask overlay dialog 'new' and 'import' were disabled,
    although if a product has a flag dataset.

_____________________________________________________________________________

 Changes from 0.8.0 to 0.8.1
_____________________________________________________________________________

VISAT Improvements

1) VISAT now displays a "big product" warning, when huge files are opened.  VISAT now
  recommends a subset in this case. The preferences dialog provides an option to set
  this limit in megabytes.

2) The graticule's lat/lon texts often fall directly on a grid line. This has been improved.

VISAT Bug-Fixes

1) Bitmask compatibilty check was not performed correctly in bitmask overlay dialog
   if multiple different product types are open in VISAT. Fixed.

2) The wait cursor was missing while applying time consuming image changes with
   contrast stretch, bitmask overlay and ROI definition windows. Partly fixed.

3) When reloading bands from ENVISAT product, the progress bar does not show up
   anymore.

4) In the product subset dialog, the product size display is there, but was displaying
   "-1 M". Fixed.

5) Visat crashes with graticule layed over products with no geo-coding (tie points)
   attached.

6) Although a product had no flag coding or flags datasets, the bitmask criteria
   in the ROI definition window was enabled.

7) In the constrast stretch window, if the sample value was directly entered, the
   disabled apply-button did not get enabled. On Solaris, the context menu did
   not pop-up over the color palette.

8) If a subset was specified and a processor is invoked within VISAT on that product,
   the processor takes the full product on disk, not the subset.
   The workaround provided is that VISAT now displays a warning message telling the user
   to safe the file first.

Specific SST Processor Bug Fixes

1) SST does select an invalid coefficient file when opened for the first time
   and the coefficient set controls were not touched.

2) It is possible to select neither dual nor forward SST. One of them must at least be
   selected.

3) SST does select an invalid coefficient file when opened for the first time
   and the coefficient set controls were not touched.

__________________________________________________________________________

 Changes from 0.7.2 to 0.8.0
_____________________________________________________________________________

Bug-Fixes

1) Import ENVISAT product: Sub-sampling in X/Y is now considered correctly

General changes

1) Logfile names do not contain space characters anymore in order to avoid
   command-line problems


Changes in VISAT - General

1) Multiple bitmask overlay module has been introduced
    - Add, remove, edit and copy bitmasks
    - Import/Export bitmasks
    - Switch mult. bitmask overlay visibilty on a per-band-base
   MERIS and AATSR products now always have a default set of bitmasks
   attached.

2) ROI (region of interest) definition module has been introduced
    - Multiple ROI criteria possible
       o Sample value range
       o Bitmask
       o (Area shapes in next release)
    - Combine criteria with AND or OR operators
    - Invert ROI on/off
    - Display ROI on/off

3) Statistics module has been introduced. It is composed of
    - General band property display
    - Statistic band property display
    - Histogram display
    Statistics can be computed for all pixels or for the current ROI

4) VISAT now has a preferences dialog with the following settings
   - Logging settings
   - GUI Appearence: System-Font settings
   - Graticule overlay properties
   - ROI overlay properties

5) Open products view and pixelinfo view are now combined in a
   tabbed pane. The pixel info view will not hide dropdown menue entries
   anymore.

6) Metadata export to text file has been added.

7) lat/lon values are now displayed in DEG,MM,SS format

Changes in VISAT - Image Display

1) Graticule (geographic grid) overlay is now possible. Graticule properties are
   editable in VISAT's preferences dialog.

2) The magnifier window now displayes image borders correctly. A 1-pixel
   wide, white border is now drawn around each image, the background is set to
   black.

3) The magnifier window now draws a border around the current pixel so that
   the pixel position is visible also on images with poor contrast.

4) The magnifier now signals if it is out-of-image by displaying a warning string

5) Default mouse cursor changes to a crosshair cursor over image pixels



_____________________________________________________________________________

 Changes from 0.7.1 to 0.7.2
_____________________________________________________________________________

General changes

1) Standard dialogs doesn't have internationalized button texts anymore.
   All GUI components now use english text by default.


Changes in all Scientific Data Processors

1) The edit fields for input and output products now fill the available
   horizontal space.


Changes in the FLH/MCI Processor

1) A bug in the presets management (incorrect band name) was fixed.


Changes in the SST Processor

1) Added a coefficient file that just passes the nadir 1100 nm band,
   removed the test coefficients.


Changes in VISAT

1) Visat writes a log file to the current working directory.


Changes in VISAT - Import subset dialog

1) As the tie-point datasets and most of the meta information contained in the
   original product loses the meaning when processing a subset of the product,
   tie-point  grids and meta information is not automatically imported to subset
   products anymore. The user has to switch this behaviour explicitely on.
2) When VISAT calculates the preview image, a wait cursor shows up to
   indicate that the application is busy.

Changes in VISAT - Contrast stretch

1) Fixed problems with integer/float conversions while zooming into the histogram.
   Handling of contrast stretch works smoother now.


_____________________________________________________________________________

 Changes from 0.7.0 to 0.7.1
_____________________________________________________________________________



Changes in all Scientific Data Processors

1) The physically unit and a description has been added to each band of the
   output product.

2) The default output product path for all procesors now correctly points to
   a (BEAM-DIMAP) file in the user's home directory with a processor specific
   default name.

3) All scientific processors can be invoked from within VISAT.
   The processed  output product can optionally be loaded directly into VISAT.



Changes in the SMAC Processor

1) Now creates it's available band list directly from the input product
   instead of holding product-type dependent, prefined band list



Changes in the FLH / MCI Processor

1) The value for invalid pixels is now editable.



Changes in the ENVISAT Reader

1) Sample values of MERIS L2 algal pigment index I and II, total suspended
   matter have been corrected; the exp(x) function has mistakenly been
   applied to the
   scaled geophysical variables instead of the pow(10,x) function

2) Sample values of MERIS L2 aerosol epsilon and optical thickness have
   been corrected; both used wrong entries for the offsets and scaling
   factors in the GADS

3) AATSR products can now be imported again



Changes in the BEAM-DIMAP reader

1) Supports a spectral band index for each band.

2) Now it is possible to store multiple BEAM-DIMAP products in a single directory.
   For each set of datafiles a corresponding subdirectory is created.



Changes in VISAT



Changes in VISAT - GENERAL

1) A context menu enables the user to load/unload a specific band.
   The band icon in the product browser changes it's appearance accordingly.

2) A "load flags" command is now available in the context menu.

3) A flag band cannot be displayed anymore and now has a special icon in the
   product browser.

4) Dialog titles and product nodes prefixing in UI has been made more
   consistent.

5) The status bar class has a new layout and provides a "memory spy" and the
   possibility to explicitely invoke the Java VM's garabge collector in order
   to free currently unused memory resources.

6) Commands for 'Show panner' and 'Show magnifier' in are provided in the
   'View' menu. These commands are enable only when a ProductSceneView is
   active.

7) VISAT's preferences file is now written everytime a VISAT property changes.

8) 'Save as ...' now supplies a default file name.

9) When saving a subset, it is now mandatory to change the product name.



Changes in VISAT - CONTRAST STRETCH

1) When the contrast stretch dialog is opened for the first time it is
   now attached to the currently active view.

2) It is now possible to have more than three color gradient sliders.

3) It is now possible to directly adjust the position of a slider by typing in
   a desired sample value.

4) The general appearance and handling of the dialog has been improved.

5) It is now possible to zoom into the histogram in order to accurately locate
   the sliders at a higher histogram magnification.



Changes in VISAT - PRODUCT METADATA VIEW

1) Flag values are shown as hexadecimal digits.

Changes in VISAT - BITMASK OVERLAY

1) An error in the expression editor occurring when closing the current product
   is fixed.

2) The bitmask properties of the selected band are now correctly displayed
   in the bitmask definition dialog. If the user changes the image view, the bitmask
   definition dialog displays the correct band-associated bitmask definition.



Changes in VISAT - FILE I/O

1) A file history is maintained and can be used to reopen recently used products.

2) The default directory for saving has been changed to the user home directory.

3) A bug occurring during modification of the filename to be saved is fixed.

4) The name of a product saved to BEAM-DIMAP format is now always the same as the
   filename (without the extension).

5) Improved error message when the user tries to open a non-BEAM-DIMAP file with the
   BEAM-DIMAP reader.



Changes in VISAT - GCP EXPORT

1) Fixed wrong order of ground control points written (lat/lon instead of
   lon/lat as expected)

2) The number of GCPs written has been reduced to a value acceptable for ENVI.
   This property can be changed in the "Visat.preferences" file.

3) The accuracy of the GCPs has been improved (at least 4 digits now)
